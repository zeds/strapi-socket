(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5516],{28992:function(k,x,n){(function(e,p){k.exports=p(n(32735))})(this,function(e){return function(p){var m={};function o(t){if(m[t])return m[t].exports;var r=m[t]={i:t,l:!1,exports:{}};return p[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=p,o.c=m,o.d=function(t,r,u){o.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:u})},o.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,r){if(1&r&&(t=o(t)),8&r||4&r&&typeof t=="object"&&t&&t.__esModule)return t;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&r&&typeof t!="string")for(var h in t)o.d(u,h,function(c){return t[c]}.bind(null,h));return u},o.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(r,"a",r),r},o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},o.p="",o(o.s=86)}({0:function(p,m){p.exports=e},86:function(p,m,o){"use strict";o.r(m);var t=o(0);function r(){return(r=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var c=arguments[h];for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&(u[M]=c[M])}return u}).apply(this,arguments)}m.default=function(u){return t.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),t.createElement("path",{d:"M0 4a4 4 0 014-4h24a4 4 0 014 4v24a4 4 0 01-4 4H4a4 4 0 01-4-4V4z",fill:"#AC73E6"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0z",fill:"#fff"}))}}})})},75152:function(k,x,n){(function(e,p){k.exports=p(n(32735))})(this,function(e){return function(p){var m={};function o(t){if(m[t])return m[t].exports;var r=m[t]={i:t,l:!1,exports:{}};return p[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=p,o.c=m,o.d=function(t,r,u){o.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:u})},o.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,r){if(1&r&&(t=o(t)),8&r||4&r&&typeof t=="object"&&t&&t.__esModule)return t;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&r&&typeof t!="string")for(var h in t)o.d(u,h,function(c){return t[c]}.bind(null,h));return u},o.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(r,"a",r),r},o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},o.p="",o(o.s=187)}({0:function(p,m){p.exports=e},187:function(p,m,o){"use strict";o.r(m);var t=o(0);function r(){return(r=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var c=arguments[h];for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&(u[M]=c[M])}return u}).apply(this,arguments)}m.default=function(u){return t.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 01-.14-.343L11.858.058a.2.2 0 01.282 0l9.513 9.4a.2.2 0 01-.14.343H13.57v8.47zM2.2 21.095a.2.2 0 00-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 00.2-.2v-2.424a.2.2 0 00-.2-.2H2.2z",fill:"#212134"}))}}})})},3944:(k,x,n)=>{"use strict";n.r(x),n.d(x,{MarketPlacePage:()=>X,default:()=>Ve});var e=n(32735),p=n(5636),m=n(99357),o=n(58469),t=n(83985),r=n(11856),u=n(16540),h=n(89978),c=n(9808),M=n(29270),T=n(95602),S=n(19192),b=n(81700),re=n(60216),i=n.n(re),R=n(78752),le=n(97042),oe=n.n(le),A=n(19615);const se=(0,A.default)(c.Box)`
  background: ${({theme:a})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${a.colors.neutral150} 100%)`};
  opacity: 0.33;
`,ie=()=>e.createElement(r.GridLayout,null,Array(12).fill(null).map((a,l)=>e.createElement(se,{key:`empty-plugin-card-${l}`,height:"234px",hasRadius:!0}))),D=({content:a})=>e.createElement(c.Box,{position:"relative"},e.createElement(ie,null),e.createElement(c.Box,{position:"absolute",top:11,width:"100%"},e.createElement(S.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},e.createElement(R.Icon,{as:oe(),color:"",width:"160px",height:"88px"}),e.createElement(c.Box,{paddingTop:6},e.createElement(T.Typography,{variant:"delta",as:"p",textColor:"neutral600"},a)))));D.propTypes={content:i().string.isRequired};const F=D;var H=n(61541),ce=n(75152),ue=n.n(ce);const O=({isOnline:a,npmPackageType:l})=>{const{formatMessage:s}=(0,p.useIntl)(),{trackUsage:y}=(0,t.useTracking)(),g=l==="provider"?"didSubmitProvider":"didSubmitPlugin";return e.createElement(r.HeaderLayout,{title:s({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:s({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:a&&e.createElement(H.LinkButton,{startIcon:e.createElement(ue(),null),variant:"tertiary",href:`https://market.strapi.io/submit-${l}`,onClick:()=>y(g),isExternal:!0},s({id:`admin.pages.MarketPlacePage.submit.${l}.link`,defaultMessage:`Submit ${l}`}))})},$=O;O.defaultProps={npmPackageType:"plugin"},O.propTypes={isOnline:i().bool.isRequired,npmPackageType:i().string};var G=n(84968),de=n(43653),U=n.n(de),pe=(a,l,s)=>new Promise((y,g)=>{var d=f=>{try{E(s.next(f))}catch(P){g(P)}},v=f=>{try{E(s.throw(f))}catch(P){g(P)}},E=f=>f.done?y(f.value):Promise.resolve(f.value).then(d,v);E((s=s.apply(a,l)).next())});const ge="https://market-api.strapi.io",me=()=>pe(void 0,null,function*(){const{data:a}=yield U().get(`${ge}/providers`);return a}),fe=a=>{const l=(0,t.useNotification)();return(0,G.useQuery)("list-marketplace-providers",()=>me(),{onSuccess:()=>{a&&a()},onError:()=>{l({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};var ve=Object.defineProperty,ye=Object.defineProperties,he=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,W=(a,l,s)=>l in a?ve(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,Me=(a,l)=>{for(var s in l||(l={}))Pe.call(l,s)&&W(a,s,l[s]);if(z)for(var s of z(l))Ee.call(l,s)&&W(a,s,l[s]);return a},ke=(a,l)=>ye(a,he(l)),be=(a,l,s)=>new Promise((y,g)=>{var d=f=>{try{E(s.next(f))}catch(P){g(P)}},v=f=>{try{E(s.throw(f))}catch(P){g(P)}},E=f=>f.done?y(f.value):Promise.resolve(f.value).then(d,v);E((s=s.apply(a,l)).next())});const xe="https://market-api.strapi.io",Te=()=>be(void 0,null,function*(){const{data:a}=yield U().get(`${xe}/plugins`);return ke(Me({},a),{data:a.data.filter(s=>s.attributes.strapiCompatibility==="v4")})}),Se=a=>{const l=(0,t.useNotification)();return(0,G.useQuery)("list-marketplace-plugins",()=>Te(),{onSuccess:()=>{a&&a()},onError:()=>{l({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};var Re=n(79613),Oe=n(72661);const Ce=()=>{const a=typeof navigator!="undefined"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[l,s]=(0,e.useState)(a),y=()=>s(!0),g=()=>s(!1);return(0,e.useEffect)(()=>(window.addEventListener("online",y),window.addEventListener("offline",g),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",g)}),[]),l};var Be=n(28992),Ie=n.n(Be),Le=n(82372),Y=n.n(Le);const Ne=()=>{const{formatMessage:a}=(0,p.useIntl)(),{trackUsage:l}=(0,t.useTracking)();return e.createElement("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>l("didMissMarketplacePlugin")},e.createElement(t.ContentBox,{title:a({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:a({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:e.createElement(Ie(),null),iconBackground:"alternative100",endAction:e.createElement(R.Icon,{as:Y(),color:"neutral600",width:3,height:3,marginLeft:2})}))};var Q=n(78330),je=n(24443),we=n.n(je),Ae=n(90662),Z=n(44826),De=n(14356),Fe=n.n(De),He=n(77016),$e=n(59087),Ge=n(88677),Ue=n.n(Ge),ze=n(68192),We=n.n(ze),Ye=n(44526);const K=({isInstalled:a,isInDevelopmentMode:l,commandToCopy:s})=>{const y=(0,t.useNotification)(),{formatMessage:g}=(0,p.useIntl)(),{trackUsage:d}=(0,t.useTracking)();return a?e.createElement(c.Box,{paddingLeft:4},e.createElement(R.Icon,{as:Ue(),marginRight:2,width:12,height:12,color:"success600"}),e.createElement(T.Typography,{variant:"omega",textColor:"success600",fontWeight:"bold"},g({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"}))):l?e.createElement($e.CopyToClipboard,{onCopy:()=>{d("willInstallPlugin"),y({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}})},text:s},e.createElement(Ye.Button,{size:"S",startIcon:e.createElement(We(),null),variant:"secondary"},g({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"}))):null};K.propTypes={isInstalled:i().bool.isRequired,isInDevelopmentMode:i().bool.isRequired,commandToCopy:i().string.isRequired};const Qe=K,Ze=(0,A.default)(T.Typography)`
  /* stylelint-disable value-no-vendor-prefix, property-no-vendor-prefix */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* stylelint-enable value-no-vendor-prefix, property-no-vendor-prefix */
  overflow: hidden;
`,C=({npmPackage:a,isInstalled:l,useYarn:s,isInDevelopmentMode:y,npmPackageType:g})=>{const{attributes:d}=a,{formatMessage:v}=(0,p.useIntl)(),{trackUsage:E}=(0,t.useTracking)(),f=s?`yarn add ${d.npmPackageName}`:`npm install ${d.npmPackageName}`,P=v({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"}),I=`https://market.strapi.io/${we().plural(g)}/${d.slug}`;return e.createElement(S.Flex,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal","data-testid":"npm-package-card"},e.createElement(c.Box,null,e.createElement(c.Box,{as:"img",src:d.logo.url,alt:`${d.name} logo`,hasRadius:!0,width:11,height:11}),e.createElement(c.Box,{paddingTop:4},e.createElement(T.Typography,{as:"h3",variant:"delta"},e.createElement(S.Flex,{alignItems:"center"},d.name,d.validated&&!d.madeByStrapi&&e.createElement(Z.Tooltip,{description:v({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"})},e.createElement(S.Flex,null,e.createElement(R.Icon,{as:Fe(),marginLeft:2,color:"success600"}))),d.madeByStrapi&&e.createElement(Z.Tooltip,{description:P},e.createElement(S.Flex,null,e.createElement(c.Box,{as:"img",src:He,alt:P,marginLeft:1,width:6,height:"auto"})))))),e.createElement(c.Box,{paddingTop:2},e.createElement(Ze,{as:"p",variant:"omega",textColor:"neutral600"},d.description))),e.createElement(Ae.Stack,{horizontal:!0,spacing:2,style:{alignSelf:"flex-end"},paddingTop:6},e.createElement(H.LinkButton,{size:"S",href:I,isExternal:!0,endIcon:e.createElement(Y(),null),"aria-label":v({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:d.name}),variant:"tertiary",onClick:()=>E("didPluginLearnMore")},v({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"Learn more"})),e.createElement(Qe,{isInstalled:l,isInDevelopmentMode:y,commandToCopy:f})))};C.defaultProps={isInDevelopmentMode:!1},C.propTypes={npmPackage:i().shape({id:i().string.isRequired,attributes:i().shape({name:i().string.isRequired,description:i().string.isRequired,slug:i().string.isRequired,npmPackageName:i().string.isRequired,npmPackageUrl:i().string.isRequired,repositoryUrl:i().string.isRequired,logo:i().object.isRequired,developerName:i().string.isRequired,validated:i().bool.isRequired,madeByStrapi:i().bool.isRequired,strapiCompatibility:i().oneOf(["v3","v4"])}).isRequired}).isRequired,isInstalled:i().bool.isRequired,useYarn:i().bool.isRequired,isInDevelopmentMode:i().bool,npmPackageType:i().string.isRequired};const Ke=C,B=({npmPackages:a,installedPackageNames:l,useYarn:s,isInDevelopmentMode:y,npmPackageType:g})=>{const d=(0,e.useCallback)(v=>l.includes(v),[l]);return e.createElement(Q.Grid,{gap:4},a.map(v=>e.createElement(Q.GridItem,{col:4,s:6,xs:12,style:{height:"100%"},key:v.id},e.createElement(Ke,{npmPackage:v,isInstalled:d(v.attributes.npmPackageName),useYarn:s,isInDevelopmentMode:y,npmPackageType:g}))))};B.defaultProps={installedPackageNames:[]},B.propTypes={npmPackages:i().array.isRequired,installedPackageNames:i().arrayOf(i().string),useYarn:i().bool.isRequired,isInDevelopmentMode:i().bool.isRequired,npmPackageType:i().string.isRequired};const V=B,J=(a,l)=>(0,o.ZP)(a,l,{keys:[{threshold:o.ZP.rankings.WORD_STARTS_WITH,key:"attributes.name"},{threshold:o.ZP.rankings.WORD_STARTS_WITH,key:"attributes.description"}]}),X=()=>{const{formatMessage:a}=(0,p.useIntl)(),{trackUsage:l}=(0,t.useTracking)(),{notifyStatus:s}=(0,M.useNotifyAT)(),y=(0,e.useRef)(l),g=(0,t.useNotification)(),[d,v]=(0,e.useState)(""),[E,f]=(0,e.useState)("plugin"),{autoReload:P,dependencies:I,useYarn:q}=(0,t.useAppInfos)(),L=Ce();(0,t.useFocusWhenNavigate)();const Je=a({id:"global.marketplace",defaultMessage:"Marketplace"}),_=()=>{s(a({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:Je}))},{status:ee,data:Xe}=Se(_),{status:te,data:qe}=fe(_),_e=[ee,te].includes("loading"),et=[ee,te].includes("error");if((0,e.useEffect)(()=>{y.current("didGoToMarketplace")},[]),(0,e.useEffect)(()=>{P||g({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"},blockTransition:!0})},[g,P]),!L)return e.createElement(r.Layout,null,e.createElement(u.Main,null,e.createElement($,{isOnline:L}),e.createElement(S.Flex,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",style:{paddingTop:"120px"}},e.createElement(c.Box,{paddingBottom:2},e.createElement(T.Typography,{textColor:"neutral700",variant:"alpha"},a({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"}))),e.createElement(c.Box,{paddingBottom:6},e.createElement(T.Typography,{textColor:"neutral700",variant:"epsilon"},a({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."}))),e.createElement("img",{src:Oe,alt:"offline",style:{width:"88px",height:"88px"}}))));if(et)return e.createElement(r.Layout,null,e.createElement(r.ContentLayout,null,e.createElement(c.Box,{paddingTop:8},e.createElement(t.AnErrorOccurred,null))));if(_e)return e.createElement(r.Layout,null,e.createElement(u.Main,{"aria-busy":!0},e.createElement(t.LoadingIndicatorPage,null)));const N=J(Xe.data,d),j=J(qe.data,d),ae=a({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:d}),tt=w=>{f(w===0?"plugin":"provider")},ne=Object.keys(I);return e.createElement(r.Layout,null,e.createElement(u.Main,null,e.createElement(m.Helmet,{title:a({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),e.createElement($,{isOnline:L,npmPackageType:E}),e.createElement(r.ContentLayout,null,e.createElement(c.Box,{width:"25%",paddingBottom:4},e.createElement(h.Searchbar,{name:"searchbar",onClear:()=>v(""),value:d,onChange:w=>v(w.target.value),clearLabel:a({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the search"}),placeholder:a({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})},a({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"}))),e.createElement(b.TabGroup,{label:a({id:"admin.pages.MarketPlacePage.tab-group.label",defaultMessage:"Plugins and Providers for Strapi"}),id:"tabs",variant:"simple",onTabChange:tt},e.createElement(c.Box,{paddingBottom:4},e.createElement(b.Tabs,null,e.createElement(b.Tab,null,a({id:"admin.pages.MarketPlacePage.plugins",defaultMessage:"Plugins"})," ","(",N.length,")"),e.createElement(b.Tab,null,a({id:"admin.pages.MarketPlacePage.providers",defaultMessage:"Providers"})," ","(",j.length,")"))),e.createElement(b.TabPanels,null,e.createElement(b.TabPanel,null,d.length>0&&!N.length?e.createElement(F,{content:ae}):e.createElement(V,{npmPackages:N,installedPackageNames:ne,useYarn:q,isInDevelopmentMode:P,npmPackageType:"plugin"})),e.createElement(b.TabPanel,null,d.length>0&&!j.length?e.createElement(F,{content:ae}):e.createElement(V,{npmPackages:j,installedPackageNames:ne,useYarn:q,isInDevelopmentMode:P,npmPackageType:"provider"})))),e.createElement(c.Box,{paddingTop:7},e.createElement(Ne,null)))))},Ve=()=>e.createElement(t.CheckPagePermissions,{permissions:Re.Z.marketplace.main},e.createElement(X,null))},77016:(k,x,n)=>{"use strict";k.exports=n.p+"90f49a385afb000fb1d4.svg"},72661:(k,x,n)=>{"use strict";k.exports=n.p+"a6b842e0b6d2b61135d1.svg"}}]);
