"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{819:(ne,x,a)=>{a.r(x),a.d(x,{SettingsPage:()=>tn,default:()=>Dn});var e=a(32735),E=a(83985),s=a(5141),H=a(11856),W=a(5636),Ie=a(99357),Te=a(28492),fe=a(81430),We=a(84968),q=a(16540),L=a(9808),b=a(78330),G=a(95602),he=a(90662),U=a(44526),_=a(14983),et=a(82372),Qe=a.n(et),Ve=a(88677),Se=a.n(Ve),X=a(60216),C=a.n(X),de=a(69898),Ge=a(20763),ze=a(59290),oe=a.n(ze),ue=a(23101),pe=a.n(ue),Ze=a(49415);const Je={currentStep:void 0},$e=(m=Je,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"GO_TO":{c.currentStep=d.to;break}default:return c}});var Ae=a(4122);const He={localImage:void 0},se=(m=He,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"SET_LOCAL_IMAGE":{c.localImage=d.value;break}default:return c}}),I=({onChangeLogo:m,customLogo:d,goTo:c,Component:f,modalTitle:u,next:T,prev:M,currentStep:R})=>{const[{localImage:v},D]=(0,e.useReducer)(se,He),{formatMessage:J}=(0,W.useIntl)(),Ce=dt=>{D({type:"SET_LOCAL_IMAGE",value:dt})},Be=()=>{c(null)};return R?e.createElement(Ae.ModalLayout,{labelledBy:"modal",onClose:Be},e.createElement(Ae.ModalHeader,null,e.createElement(G.Typography,{fontWeight:"bold",as:"h2",id:"modal"},J(u))),e.createElement(f,{setLocalImage:Ce,goTo:c,next:T,prev:M,onClose:Be,asset:v||d,onChangeLogo:m})):null};I.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},I.propTypes={Component:C().elementType,currentStep:C().string,customLogo:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}),goTo:C().func.isRequired,modalTitle:C().shape({id:C().string,defaultMessage:C().string}),next:C().string,onChangeLogo:C().func.isRequired,prev:C().string};const ae=I,A=750,te=100,ie=["image/jpeg","image/png","image/svg+xml"];var z=a(81700),me=a(27635),Z=a(19615),k=a(19192),re=a(78752),Me=a(20001),Ke=a(22795),qe=a.n(Ke),st=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const _e={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},j={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},le=m=>new Promise(d=>{const c=new FileReader;c.onload=()=>{const f=new Image;f.onload=function(){d({width:f.width,height:f.height})},f.src=c.result},c.readAsDataURL(m)}),V=(m,d)=>({ext:m.name.split(".").pop(),size:m.size/1e3,name:m.name,url:URL.createObjectURL(m),rawFile:m,width:d.width,height:d.height}),K=m=>st(void 0,null,function*(){let d;if(!ie.includes(m.type))throw d=new Error("File format"),d.displayMessage=_e,d;const f=yield le(m);if(!(f.width<=A&&f.height<=A))throw d=new Error("File sizing"),d.displayMessage=j,d;const T=V(m,f);if(!(T.size<=te))throw d=new Error("File sizing"),d.displayMessage=j,d;return T});var Fe=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const Ue=(0,Z.default)(Me.FieldInput)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,Xe=({setLocalImage:m,goTo:d,next:c,onClose:f})=>{const{formatMessage:u}=(0,W.useIntl)(),[T,M]=(0,e.useState)(!1),[R,v]=(0,e.useState)(void 0),D=(0,e.useRef)(null),J=()=>M(!0),Ce=()=>M(!1),Be=rt=>{rt.preventDefault(),D.current.click()},dt=()=>Fe(void 0,null,function*(){Ce();const rt=D.current.files[0];if(!!rt)try{const ut=yield K(rt);m(ut),d(c)}catch(ut){if(ut.displayMessage)v(u(ut.displayMessage,{size:te,dimension:A})),D.current.focus();else throw ut}}),it=()=>T?"primary500":R?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Me.Field,{name:"logo-upload",error:R},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(he.Stack,{spacing:2},e.createElement(k.Flex,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:T?"primary100":"neutral100",borderColor:it(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:J,onDragLeave:Ce},e.createElement(re.Icon,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:qe(),"aria-hidden":!0}),e.createElement(L.Box,{paddingTop:3,paddingBottom:5},e.createElement(G.Typography,{variant:"delta",as:"span"},u({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(Ue,{accept:ie,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:dt,ref:D,id:"logo-upload"}),e.createElement(U.Button,{type:"button",onClick:Be},u({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(L.Box,{paddingTop:6},e.createElement(G.Typography,{variant:"pi",textColor:"neutral600"},u({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:te,dimension:A})))),e.createElement(Me.FieldError,null)))))),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:f,variant:"tertiary"},u({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};Xe.defaultProps={next:null},Xe.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const Q=Xe;var ye=a(37178),Re=a(43653),S=a.n(Re),on=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const Gn=m=>on(void 0,null,function*(){try{const d=yield S().get(m,{responseType:"blob",timeout:8e3});return new File([d.data],d.config.url,{type:d.headers["content-type"]})}catch(d){throw d.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},d}});var an=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const Ot=({goTo:m,next:d,onClose:c,setLocalImage:f})=>{const{formatMessage:u}=(0,W.useIntl)(),[T,M]=(0,e.useState)(""),[R,v]=(0,e.useState)(null),D=Ce=>{M(Ce.target.value)},J=Ce=>an(void 0,null,function*(){Ce.preventDefault();try{const Be=yield Gn(T),dt=yield K(Be);f(dt),m(d)}catch(Be){if(Be.displayMessage)v(u(Be.displayMessage,{size:te,dimension:A}));else throw Be}});return e.createElement("form",{onSubmit:J},e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(ye.TextInput,{label:u({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:R,onChange:D,value:T,name:"logo-url"})),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:c,variant:"tertiary"},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(U.Button,{type:"submit"},u({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};Ot.defaultProps={next:null},Ot.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const wt=Ot,Dt=({setLocalImage:m,goTo:d,next:c,onClose:f})=>{const{formatMessage:u}=(0,W.useIntl)();return e.createElement(z.TabGroup,{label:u({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(L.Box,{paddingLeft:8,paddingRight:8},e.createElement(z.Tabs,null,e.createElement(z.Tab,null,u({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(z.Tab,null,u({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement(me.Divider,null)),e.createElement(z.TabPanels,null,e.createElement(z.TabPanel,null,e.createElement(Q,{onClose:f,setLocalImage:m,goTo:d,next:c})),e.createElement(z.TabPanel,null,e.createElement(wt,{onClose:f,setLocalImage:m,goTo:d,next:c}))))};Dt.defaultProps={next:null},Dt.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const rn=Dt;var nt=a(31998);const xt=({asset:m})=>{const{formatMessage:d}=(0,W.useIntl)();return e.createElement(nt.Card,null,e.createElement(nt.CardHeader,null,e.createElement(nt.CardAsset,{size:"S",src:m.url})),e.createElement(nt.CardBody,null,e.createElement(nt.CardContent,null,e.createElement(nt.CardTitle,null,m.name),e.createElement(nt.CardSubtitle,null,`${m.ext.toUpperCase()} - ${m.width}\u2715${m.height}`)),e.createElement(nt.CardBadge,null,d({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};xt.propTypes={asset:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}).isRequired};const jt=xt,Ct=({onClose:m,asset:d,prev:c,next:f,goTo:u,setLocalImage:T,onChangeLogo:M})=>{const{formatMessage:R}=(0,W.useIntl)(),v=()=>{T(void 0),u(c)},D=()=>{M(d),u(f)};return e.createElement(e.Fragment,null,e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(k.Flex,{justifyContent:"space-between",paddingBottom:6},e.createElement(k.Flex,{direction:"column",alignItems:"flex-start"},e.createElement(G.Typography,{variant:"pi",fontWeight:"bold"},R({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(G.Typography,{variant:"pi",textColor:"neutral500"},R({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(U.Button,{onClick:v,variant:"secondary"},R({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(L.Box,{maxWidth:(0,E.pxToRem)(180)},e.createElement(jt,{asset:d}))),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:m,variant:"tertiary"},R({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(U.Button,{onClick:D},R({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};Ct.defaultProps={next:null,prev:null},Ct.propTypes={goTo:C().func.isRequired,asset:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}).isRequired,next:C().string,onClose:C().func.isRequired,onChangeLogo:C().func.isRequired,prev:C().string,setLocalImage:C().func.isRequired};const zn={upload:{Component:rn,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:Ct,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},Et=({customLogo:m,defaultLogo:d,onChangeLogo:c,onResetMenuLogo:f})=>{const[{currentStep:u},T]=(0,e.useReducer)($e,Je),{Component:M,next:R,prev:v,modalTitle:D}=zn[u]||{},{formatMessage:J}=(0,W.useIntl)(),Ce=Be=>{T({type:"GO_TO",to:Be})};return e.createElement(e.Fragment,null,e.createElement(de.CarouselInput,{label:J({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"}),selectedSlide:0,hint:J({id:"Settings.application.customization.carousel-hint",defaultMessage:"Change the admin panel logo (Max dimension: {dimension}x{dimension}, Max file size: {size}KB)"},{size:te,dimension:A}),previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:(m==null?void 0:m.name)||"logo.png",actions:e.createElement(de.CarouselActions,null,e.createElement(Ge.IconButton,{onClick:()=>Ce(m?"pending":"upload"),label:J({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(oe(),null)}),m&&e.createElement(Ge.IconButton,{onClick:f,label:J({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(pe(),null)}))},e.createElement(de.CarouselSlide,{label:J({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(L.Box,{maxHeight:"40%",maxWidth:"40%",as:"img",src:(m==null?void 0:m.url)||d,alt:J({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(ae,{Component:M,currentStep:u,onChangeLogo:c,customLogo:m,goTo:Ce,next:R,prev:v,modalTitle:D}))};Et.defaultProps={customLogo:null},Et.propTypes={customLogo:C().shape({url:C().string,name:C().string}),defaultLogo:C().string.isRequired,onChangeLogo:C().func.isRequired,onResetMenuLogo:C().func.isRequired};const sn=Et,bt={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ln=(m=bt,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"SET_CUSTOM_MENU_LOGO":{c.menuLogo.display=d.value,c.menuLogo.submit.rawFile=d.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{c.menuLogo.display=null,c.menuLogo.submit={rawFile:null,isReset:!0};break}default:return c}});var Wt=a(86349),cn=a.n(Wt);const Ut=(m,d)=>cn()(m,{menuLogo:{display:d.menuLogo}}),St=(0,e.forwardRef)(({projectSettingsStored:m},d)=>{const{formatMessage:c}=(0,W.useIntl)(),{trackUsage:f}=(0,E.useTracking)(),{logos:{menu:u}}=(0,Te.um)(),[{menuLogo:T},M]=(0,e.useReducer)(ln,bt,()=>Ut(bt,m)),R=D=>{M({type:"SET_CUSTOM_MENU_LOGO",value:D})},v=()=>{f("didClickResetLogo"),M({type:"RESET_CUSTOM_MENU_LOGO"})};return(0,e.useImperativeHandle)(d,()=>({getValues:()=>({menuLogo:T.submit})})),e.createElement(L.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(G.Typography,{variant:"delta",as:"h3"},c({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(b.Grid,{paddingTop:4},e.createElement(b.GridItem,{col:6,s:12},e.createElement(sn,{onChangeLogo:R,customLogo:T.display,defaultLogo:u.default,onResetMenuLogo:v}))))});St.defaultProps={projectSettingsStored:null},St.propTypes={projectSettingsStored:C().shape({menuLogo:C().shape({url:C().string,name:C().string})})};const mt=St;var dn=a(81999),Mt=a(48344),Hn=a.n(Mt),ct=Object.defineProperty,Kn=Object.defineProperties,un=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable,gt=(m,d,c)=>d in m?ct(m,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[d]=c,Yn=(m,d)=>{for(var c in d||(d={}))pn.call(d,c)&&gt(m,c,d[c]);if(kt)for(var c of kt(d))Xn.call(d,c)&&gt(m,c,d[c]);return m},ht=(m,d)=>Kn(m,un(d));const Lt=m=>Hn()(m,(d,c,f)=>{c&&c.url?d[f]=ht(Yn({},c),{url:(0,E.prefixFileUrlWithBackendUrl)(c.url)}):d[f]=c},{});var It=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const gn=()=>It(void 0,null,function*(){const{data:m}=yield dn.be.get("/admin/project-settings");return Lt(m)}),Vt=m=>It(void 0,null,function*(){const{data:d}=yield dn.be.post("/admin/project-settings",m);return Lt(d)}),Gt=m=>{const d=new FormData;return Object.entries(m).forEach(([c,f])=>{f&&f.rawFile instanceof File&&d.append(c,f.rawFile),f&&f.isReset&&d.append(c,null)}),d};var hn=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{R(c.next(v))}catch(D){u(D)}},M=v=>{try{R(c.throw(v))}catch(D){u(D)}},R=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);R((c=c.apply(m,d)).next())});const zt=[{action:"admin::project-settings.update",subject:null}],Jn=()=>{const m=(0,e.useRef)(),d=(0,E.useNotification)(),{trackUsage:c}=(0,E.useTracking)(),{formatMessage:f}=(0,W.useIntl)(),u=(0,We.useQueryClient)();(0,E.useFocusWhenNavigate)();const T=(0,E.useAppInfos)(),{shouldUpdateStrapi:M,latestStrapiReleaseTag:R,strapiVersion:v}=T,{updateProjectSettings:D}=(0,Te.um)(),{data:J}=(0,We.useQuery)("project-settings",gn),Ce=T.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee",Be=(0,We.useMutation)(it=>Vt(it),{onSuccess:it=>hn(void 0,[it],function*({menuLogo:rt}){yield u.invalidateQueries("project-settings",{refetchActive:!0}),D({menuLogo:rt==null?void 0:rt.url})})}),dt=()=>{const it=m.current.getValues(),rt=Gt(it);Be.mutate(rt,{onSuccess:()=>{const{menuLogo:ut}=it;ut.rawFile&&c("didChangeLogo")},onError:()=>{d({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})};return e.createElement(H.Layout,null,e.createElement(E.SettingsPageTitle,{name:"Application"}),e.createElement(q.Main,null,e.createElement(H.HeaderLayout,{title:f({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:f({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:e.createElement(U.Button,{onClick:dt,startIcon:e.createElement(Se(),null)},f({id:"global.save",defaultMessage:"Save"}))}),e.createElement(H.ContentLayout,null,e.createElement(he.Stack,{spacing:6},e.createElement(L.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(he.Stack,{spacing:5},e.createElement(G.Typography,{variant:"delta",as:"h3"},f({id:"global.details",defaultMessage:"Details"})),e.createElement(b.Grid,{paddingTop:1},e.createElement(b.GridItem,{col:6,s:12},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(G.Typography,{as:"p"},"v",v),e.createElement(_.Link,{href:T.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.get-help",defaultMessage:"Get help"}))),e.createElement(b.GridItem,{col:6,s:12},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(G.Typography,{as:"p"},f({id:Ce,defaultMessage:`${T.communityEdition?"Community Edition":"Enterprise Edition"}`})))),e.createElement(b.Grid,{paddingTop:1},e.createElement(b.GridItem,{col:6,s:12},M&&e.createElement(_.Link,{href:`https://github.com/strapi/strapi/releases/tag/${R}`,isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),e.createElement(b.GridItem,{col:6,s:12},e.createElement(_.Link,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(L.Box,{paddingTop:1},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(G.Typography,{as:"p"},T.nodeVersion)))),J&&e.createElement(E.CheckPermissions,{permissions:zt},e.createElement(mt,{ref:m,projectSettingsStored:J}))))))};var yn=a(3704),Zt=a.n(yn);const Ht=m=>Zt()(m,c=>c.links).map(c=>(0,fe.ot)(c.Component,c.to,c.exact||!1)),vn=m=>m.filter(d=>!d.links.every(c=>c.isDisplayed===!1));var Cn=a(46053),Kt=a(93587),ve=a.n(Kt),ot=void 0,at=function(d,c,f){return new Promise(function(u,T){var M=function(J){try{v(f.next(J))}catch(Ce){T(Ce)}},R=function(J){try{v(f.throw(J))}catch(Ce){T(Ce)}},v=function(J){return J.done?u(J.value):Promise.resolve(J.value).then(M,R)};v((f=f.apply(d,c)).next())})},Ft=function(){return window&&window.strapi&&window.strapi.isEE?a(97971).Z:a(16988).Z}(),En=function(){return window&&window.strapi&&window.strapi.isEE?a(49776).Z:a(10333).Z}(),bn=[{Component:function(){return{default:En}},to:"/settings/roles",exact:!0},{Component:function(){return{default:Ft}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:Ft}},to:"/settings/roles/new",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(2544).then(a.bind(a,3079));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/roles/:id",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(5199).then(a.bind(a,79005));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/users",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4263).then(a.bind(a,28976));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/users/:id",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,31854));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks/create",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,24305));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks/:id",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4121).then(a.bind(a,17542));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(8056).then(a.bind(a,11116));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4299).then(a.bind(a,96854));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens/create",exact:!0},{Component:function(){return at(ot,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(92).then(a.bind(a,14932));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens/:id",exact:!0}];const Xt=bn;var Sn=function(){return window&&window.strapi&&window.strapi.isEE?a(78251).Z:a(23027).Z}();const Pn=[].concat((0,Cn.Z)(Sn),(0,Cn.Z)(Xt));var Pt=a(89420),Tn=Object.defineProperty,An=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,Qt=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable,qt=(m,d,c)=>d in m?Tn(m,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[d]=c,_t=(m,d)=>{for(var c in d||(d={}))Rn.call(d,c)&&qt(m,c,d[c]);if(Qt)for(var c of Qt(d))Jt.call(d,c)&&qt(m,c,d[c]);return m},en=(m,d)=>An(m,Yt(d));const Tt=({menu:m})=>{const{formatMessage:d}=(0,W.useIntl)(),f=vn(m).map(T=>en(_t({},T),{title:T.intlLabel,links:T.links.map(M=>en(_t({},M),{title:M.intlLabel,name:M.id}))})),u=d({id:"global.settings",defaultMessage:"Settings"});return e.createElement(Pt.SubNav,{ariaLabel:u},e.createElement(Pt.SubNavHeader,{label:u}),e.createElement(Pt.SubNavSections,null,f.map(T=>e.createElement(Pt.SubNavSection,{key:T.id,label:d(T.intlLabel)},T.links.map(M=>e.createElement(Pt.SubNavLink,{as:s.NavLink,withBullet:M.hasNotification,to:M.to,key:M.id},d(M.intlLabel)))))))};Tt.propTypes={menu:C().array.isRequired};const On=Tt;function tn(){const{settingId:m}=(0,s.useParams)(),{settings:d}=(0,E.useStrapiApp)(),{formatMessage:c}=(0,W.useIntl)(),{isLoading:f,menu:u}=(0,Te.Te)(),T=(0,e.useMemo)(()=>(0,fe.WW)(Pn.map(({to:v,Component:D,exact:J})=>(0,fe.ot)(D,v,J))),[]),M=Ht(d);if(f)return e.createElement(E.LoadingIndicatorPage,null);if(!m)return e.createElement(s.Redirect,{to:"/settings/application-infos"});const R=c({id:"global.settings",defaultMessage:"Settings"});return e.createElement(H.Layout,{sideNav:e.createElement(On,{menu:u})},e.createElement(Ie.Helmet,{title:R}),e.createElement(s.Switch,null,e.createElement(s.Route,{path:"/settings/application-infos",component:Jn,exact:!0}),T,M))}const Dn=(0,e.memo)(tn)},16988:(ne,x,a)=>{a.d(x,{Z:()=>H});var e=a(32735),E=a(5141);const H=()=>e.createElement(E.Redirect,{to:"/404"})},65150:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},3665:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},3288:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},16602:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},71218:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},13806:(ne,x,a)=>{a.d(x,{Z:()=>gr});var e=a(32735),E=a(60216),s=a.n(E),H=a(83985),W=a(81700),Ie=a(23973),Te=a.n(Ie),fe=a(86834),We=a.n(fe),q=a(5636),L=a(9808),b=a(19615),G=a(98978),he=a.n(G),U=a(67950),_=a(67793),et=a.n(_),Qe=a(31476),Ve=a.n(Qe),Se=a(35980),X=a(19192),C=a(33795),de=a.n(C),Ge=a(9086),ze=a.n(Ge),oe=a(28492),ue=a(42258),pe=a.n(ue),Ze=a(44526);const Je=b.default.div`
  position: relative;

  ${({hasConditions:o,disabled:t,theme:n})=>o&&`
    &:before {
      content: '';
      position: absolute;
      top: -3px;
      left: -10px;
      width: 6px;
      height: 6px;
      border-radius: ${20/16}rem;;
      background: ${t?n.colors.neutral100:n.colors.primary600};
    }
  `}
`,tt=({onClick:o,className:t,hasConditions:n,variant:r})=>{const{formatMessage:i}=(0,q.useIntl)();return e.createElement(Je,{hasConditions:n,className:t},e.createElement(Ze.Button,{variant:r,startIcon:e.createElement(pe(),null),onClick:o},i({id:"global.settings",defaultMessage:"Settings"})))};tt.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},tt.propTypes={onClick:s().func.isRequired,className:s().string,hasConditions:s().bool,variant:s().string};const $e=(0,b.default)(tt)``;var Ae=a(27635),He=a(90662),lt=a(4122),se=a(71657),I=a(95602),ae=a(49415),A=a(81346),te=a.n(A),ie=a(23940),z=a.n(ie),me=a(15453),Z=a(46053),k=a(25716);const re=`${120/16}rem`,Me=`${200/16}rem`,Ke=`${53/16}rem`;function qe(o,t){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=st(o))||t&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(y){throw y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,p=!1,g;return{s:function(){n=n.call(o)},n:function(){var y=n.next();return l=y.done,y},e:function(y){p=!0,g=y},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(p)throw g}}}}function st(o,t){if(!!o){if(typeof o=="string")return _e(o,t);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(o,t)}}function _e(o,t){(t==null||t>o.length)&&(t=o.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=o[n];return r}var j=Object.defineProperty,le=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Fe=function(t,n,r){return n in t?j(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},Ue=function(t,n){for(var r in n||(n={}))V.call(n,r)&&Fe(t,r,n[r]);if(le){var i=qe(le(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;K.call(n,r)&&Fe(t,r,n[r])}}catch(p){i.e(p)}finally{i.f()}}return t},Xe=function(){return window&&window.strapi&&window.strapi.isEE?a(10265).Z:a(65150).Z}(),Q=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],Ke),ye=function(t){var n=t.arrayOfOptionsGroupedByCategory,r=t.isFormDisabled,i=t.isGrey,l=t.label,p=t.name,g=t.onChange,h=t.value,y=(0,q.useIntl)(),P=y.formatMessage,F=n.reduce(function(w,N){var O=(0,U.Z)(N,2),B=O[0],Y=O[1],ce={label:z()(B),children:Y.map(function(Oe){return{label:Oe.displayName,value:Oe.id}})};return[].concat((0,Z.Z)(w),[ce])},[]),$=Object.values(h).map(function(w){return Object.entries(w).filter(function(N){var O=(0,U.Z)(N,2),B=O[1];return B}).map(function(N){var O=(0,U.Z)(N,1),B=O[0];return B})}).flat(),ee=function(N){var O=(0,U.Z)(n,1),B=(0,U.Z)(O[0],2),Y=B[1],ce=Y.reduce(function(Oe,Ee){return Ue((0,me.Z)({},Ee.id,N.includes(Ee.id)),Oe)},{});g(p,ce)};return e.createElement(Q,{as:"li",background:i?"neutral100":"neutral0"},e.createElement(X.Flex,{paddingLeft:6,style:{width:180}},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},P({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xA0"),e.createElement(I.Typography,{variant:"sigma",title:l,textColor:"primary600",ellipsis:!0},P({id:"Settings.roles.form.permissions.".concat(l.toLowerCase()),defaultMessage:l})),e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},"\xA0",P({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),e.createElement(L.Box,{style:{maxWidth:430,width:"100%"}},e.createElement(k.MultiSelectNested,{id:p,customizeContent:function(N){return"".concat(N.length," currently selected")},onChange:ee,value:$,options:F,disabled:r||Xe})))};ye.propTypes={arrayOfOptionsGroupedByCategory:s().array.isRequired,isFormDisabled:s().bool.isRequired,isGrey:s().bool.isRequired,label:s().string.isRequired,name:s().string.isRequired,value:s().object.isRequired,onChange:s().func.isRequired};const Re=ye;var S=a(92891);const on=(o,t)=>o.reduce((n,r)=>(n[r.id]=(0,S.get)(t,r.id,!1),n),{}),Vn=(o,t)=>o.reduce((n,r)=>{const[i,l]=r,p=on(l,t);return n[i]=p,n},{}),an=(o,t,n)=>o.reduce((r,i)=>{const l=(0,S.get)(t,[...i.pathToConditionsObject,"conditions"],{}),p=Vn(n,l);return r[i.pathToConditionsObject.join("..")]=p,r},{});var Ot=Object.defineProperty,wt=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,nt=(o,t,n)=>t in o?Ot(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,xt=(o,t)=>{for(var n in t||(t={}))Dt.call(t,n)&&nt(o,n,t[n]);if(wt)for(var n of wt(t))rn.call(t,n)&&nt(o,n,t[n]);return o};const jt=({actions:o,headerBreadCrumbs:t,isFormDisabled:n,onClosed:r,onToggle:i})=>{const{formatMessage:l}=(0,q.useIntl)(),{availableConditions:p,modifiedData:g,onChangeConditions:h}=(0,oe.$_)(),y=(0,e.useMemo)(()=>Object.entries(te()(p,"category")),[p]),P=o.filter(({isDisplayed:O,hasSomeActionsSelected:B,hasAllActionsSelected:Y})=>O&&(B||Y)),F=(0,e.useMemo)(()=>an(P,g,y),[P,g,y]),[$,ee]=(0,e.useState)(F),w=(O,B)=>{ee((0,ae.default)(Y=>{Y[O]||(Y[O]={}),Y[O].default||(Y[O].default={}),Y[O].default=B}))},N=()=>{const O=Object.entries($).reduce((B,Y)=>{const[ce,Oe]=Y,Ee=Object.values(Oe).reduce((De,we)=>xt(xt({},De),we),{});return B[ce]=Ee,B},{});h(O),i()};return e.createElement(lt.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:r},e.createElement(lt.ModalHeader,null,e.createElement(se.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:t.join(", ")},t.map(O=>e.createElement(se.Crumb,{key:O},z()(l({id:O,defaultMessage:O})))))),e.createElement(L.Box,{padding:8},e.createElement(He.Stack,{spacing:6},e.createElement(I.Typography,{variant:"beta",as:"h2"},l({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),e.createElement(L.Box,null,e.createElement(Ae.Divider,null)),e.createElement(L.Box,null,P.length===0&&e.createElement(I.Typography,null,l({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),e.createElement("ul",null,P.map(({actionId:O,label:B,pathToConditionsObject:Y},ce)=>{const Oe=Y.join("..");return e.createElement(Re,{key:O,arrayOfOptionsGroupedByCategory:y,label:B,isFormDisabled:n,isGrey:ce%2===0,name:Oe,onChange:w,value:de()($,Oe,{})})}))))),e.createElement(lt.ModalFooter,{startActions:e.createElement(Ze.Button,{variant:"tertiary",onClick:i},l({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(Ze.Button,{onClick:N},l({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};jt.propTypes={actions:s().arrayOf(s().shape({actionId:s().string.isRequired,checkboxName:s().string,hasSomeActionsSelected:s().bool.isRequired,hasAllActionsSelected:s().bool,isDisplayed:s().bool.isRequired,label:s().string})).isRequired,headerBreadCrumbs:s().arrayOf(s().string).isRequired,isFormDisabled:s().bool.isRequired,onClosed:s().func.isRequired,onToggle:s().func.isRequired};const Ct=jt,Nt=b.default.div`
  width: ${re};
`,Et=(0,b.default)(X.Flex)`
  padding-right: ${({theme:o})=>o.spaces[2]};
  overflow: hidden;
  flex: 1;
  ${({isCollapsable:o})=>o&&"cursor: pointer;"}
`;var sn=Object.defineProperty,bt=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,Wt=(o,t,n)=>t in o?sn(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,cn=(o,t)=>{for(var n in t||(t={}))Zn.call(t,n)&&Wt(o,n,t[n]);if(bt)for(var n of bt(t))ln.call(t,n)&&Wt(o,n,t[n]);return o};const $t=({children:o,isCollapsable:t,isActive:n,isFormDisabled:r,label:i,onChange:l,onClick:p,checkboxName:g,someChecked:h,value:y})=>{const{formatMessage:P}=(0,q.useIntl)();return e.createElement(X.Flex,{alignItems:"center",paddingLeft:6,style:{width:Me,flexShrink:0}},e.createElement(L.Box,{paddingRight:2},e.createElement(Se.BaseCheckbox,{name:g,"aria-label":P({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:i}),disabled:r,onValueChange:F=>l({target:{name:g,value:F}}),indeterminate:h,value:y})),e.createElement(Et,cn({title:i,alignItems:"center",isCollapsable:t},t&&{onClick:p,"aria-expanded":n,onKeyDown:({key:F})=>(F==="Enter"||F===" ")&&p(),tabIndex:0,role:"button"}),e.createElement(I.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},z()(i)),o))};$t.defaultProps={children:null,checkboxName:"",onChange:()=>{},value:!1,someChecked:!1,isCollapsable:!1},$t.propTypes={checkboxName:s().string,children:s().node,label:s().string.isRequired,isCollapsable:s().bool,isFormDisabled:s().bool.isRequired,onChange:s().func,onClick:s().func.isRequired,someChecked:s().bool,value:s().bool,isActive:s().bool.isRequired};const Ut=(0,e.memo)($t),St=o=>(0,S.isObject)(o)?(0,S.flattenDeep)(Object.values(o).map(t=>(0,S.isObject)(t)?St(t):t)):[],mt=St,Mt=o=>o?Object.keys(o).reduce((t,n)=>(n!=="conditions"&&(t[n]=o[n]),t),{}):null,ct=o=>{const t=Mt(o),n=mt(t);if(!n.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};const r=n.every(l=>l),i=n.some(l=>l)&&!r;return{hasAllActionsSelected:r,hasSomeActionsSelected:i}},un=(o,t,n)=>o.map(({actionId:r,isDisplayed:i,applyToProperties:l,label:p})=>{if(!i)return{actionId:r,hasSomeActionsSelected:!1,isDisplayed:i};const g=[...n.split(".."),r],h=(0,S.isEmpty)(l)?[...g,"properties","enabled"]:g,y=h.join(".."),P=(0,S.get)(t,[...g,"conditions"],null),F=mt(P).some(N=>N);if((0,S.isEmpty)(l)){const N=(0,S.get)(t,h,!1);return{actionId:r,checkboxName:y,hasAllActionsSelected:N,hasConditions:F,hasSomeActionsSelected:N,isDisplayed:i,isParentCheckbox:!1,label:p,pathToConditionsObject:g}}const $=(0,S.get)(t,h,null),{hasAllActionsSelected:ee,hasSomeActionsSelected:w}=ct($);return{actionId:r,checkboxName:y,hasAllActionsSelected:ee,hasConditions:F,hasSomeActionsSelected:w,isDisplayed:i,isParentCheckbox:!0,label:p,pathToConditionsObject:g}});var kt=a(60672),pn=a.n(kt);const gt=(0,b.default)(pn())`
  display: none;
  width: ${10/16}rem;
  transform: rotate(${({$isActive:o})=>o?"180":"0"}deg);
  margin-left: ${({theme:o})=>o.spaces[2]};
`,ht=o=>`
  ${I.Typography} {
    color: ${o.colors.primary600};
    font-weight: ${o.fontWeights.bold}
  }
  ${gt} {
    display: block;
    path {
      fill: ${o.colors.primary600}
    };
  }
`;var mn=function(){return window&&window.strapi&&window.strapi.isEE?a(47902).Z:a(3665).Z}(),Lt=function o(t,n){return`
  `.concat(It,` {
    background-color: `).concat(t.colors.primary100,`;
    color: `).concat(t.colors.primary600,`;
    border-radius: `).concat(n?"2px 2px 0 0":"2px",`;
  }
  `).concat(fn,` {
    display: flex;
  }
  `).concat($e,` {
    display: block;
  }
  &:hover {
   `).concat(ht(t),`
  }

  &:focus-within {
    `).concat(function(r){var i=r.theme,l=r.isActive;return o(i,l)},`
  }
  
`)},It=b.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],Ke,function(o){var t=o.isGrey,n=o.theme;return t?n.colors.neutral100:n.colors.neutral0}),gn=b.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],$e,function(o){var t=o.isActive,n=o.theme;return t&&Lt(n,t)},function(o){var t=o.theme,n=o.isActive;return Lt(t,n)}),Vt=(0,b.default)(X.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],re),fn=(0,b.default)(L.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],function(o){var t=o.theme;return t.colors.primary600}),Gt=b.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],function(o){var t=o.theme;return t.colors.primary600}),hn=(0,b.default)(L.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),zt=function(t){var n=t.availableActions,r=t.isActive,i=t.isGrey,l=t.isFormDisabled,p=t.label,g=t.onClickToggle,h=t.pathToData,y=(0,e.useState)(!1),P=(0,U.Z)(y,2),F=P[0],$=P[1],ee=(0,q.useIntl)(),w=ee.formatMessage,N=(0,oe.$_)(),O=N.modifiedData,B=N.onChangeParentCheckbox,Y=N.onChangeSimpleCheckbox,ce=function(){$(function(Pe){return!Pe})},Oe=function(){$(!1)},Ee=de()(O,h.split(".."),{}),De=(0,e.useMemo)(function(){return Object.keys(Ee).reduce(function(ge,Pe){return ge[Pe]=ze()(Ee[Pe],"conditions"),ge},{})},[Ee]),we=ct(De),Le=we.hasAllActionsSelected,yt=we.hasSomeActionsSelected,be=(0,e.useMemo)(function(){return un(n,O,h)},[n,O,h]),je=be.some(function(ge){var Pe=ge.hasConditions;return Pe});return e.createElement(gn,{isActive:r},e.createElement(It,{isGrey:i},e.createElement(Ut,{isCollapsable:!0,isFormDisabled:l,label:p,checkboxName:h,onChange:B,onClick:g,someChecked:yt,value:Le,isActive:r},e.createElement(fn,{paddingLeft:2},r?e.createElement(Ve(),null):e.createElement(et(),null))),e.createElement(X.Flex,{style:{flex:1}},be.map(function(ge){var Pe=ge.actionId,xe=ge.hasConditions,Ne=ge.hasAllActionsSelected,ke=ge.hasSomeActionsSelected,ft=ge.isDisplayed,Ye=ge.isParentCheckbox,pt=ge.checkboxName,At=ge.label;return ft?Ye?e.createElement(Vt,{key:Pe,justifyContent:"center",alignItems:"center"},xe&&e.createElement(Gt,null),e.createElement(Se.BaseCheckbox,{disabled:l||mn,name:pt,"aria-label":w({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(At," ").concat(p)}),onValueChange:function(vt){B({target:{name:pt,value:vt}})},indeterminate:ke,value:Ne})):e.createElement(Vt,{key:Pe,justifyContent:"center",alignItems:"center"},xe&&e.createElement(Gt,null),e.createElement(Se.BaseCheckbox,{disabled:l||mn,indeterminate:xe,name:pt,onValueChange:function(vt){Y({target:{name:pt,value:vt}})},value:Ne})):e.createElement(Nt,{key:Pe})})),F&&e.createElement(Ct,{headerBreadCrumbs:[p,"app.components.LeftMenuLinkContainer.settings"],actions:be,isFormDisabled:l,onClosed:Oe,onToggle:ce})),e.createElement(hn,null,e.createElement($e,{onClick:ce,hasConditions:je})))};zt.propTypes={availableActions:s().array.isRequired,isActive:s().bool.isRequired,isGrey:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggle:s().func.isRequired,pathToData:s().string.isRequired};const Qn=zt,yn=(o,t)=>o.map(n=>{const r=Array.isArray(n.applyToProperties)&&n.applyToProperties.indexOf(t)!==-1&&n.isDisplayed;return{label:n.label,actionId:n.actionId,isActionRelatedToCurrentProperty:r}}),Zt=(0,b.default)(X.Flex)`
  width: ${re};
  flex-shrink: 0;
`,qn=(0,b.default)(X.Flex)`
  width: ${Me};
  height: ${Ke};
  flex-shrink: 0;
`,Ht=({headers:o,label:t})=>{const{formatMessage:n}=(0,q.useIntl)(),r=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:t});return e.createElement(X.Flex,null,e.createElement(qn,{alignItems:"center",paddingLeft:6},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},r)),o.map(i=>i.isActionRelatedToCurrentProperty?e.createElement(Zt,{justifyContent:"center",key:i.label},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},n({id:`Settings.roles.form.permissions.${i.label.toLowerCase()}`,defaultMessage:i.label}))):e.createElement(Zt,{key:i.label})))};Ht.propTypes={headers:s().arrayOf(s().shape({label:s().string.isRequired,isActionRelatedToCurrentProperty:s().bool.isRequired})).isRequired,label:s().string.isRequired};const _n=Ht,vn=b.default.span`
  color: ${({theme:o})=>o.colors.danger700};
  padding-left: ${({theme:o})=>o.spaces[1]}px;
`,Kt=()=>e.createElement(vn,null,"*");var ve=Object.defineProperty,ot=Object.defineProperties,at=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,Xt=(o,t,n)=>t in o?ve(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Sn=(o,t)=>{for(var n in t||(t={}))En.call(t,n)&&Xt(o,n,t[n]);if(Ft)for(var n of Ft(t))bn.call(t,n)&&Xt(o,n,t[n]);return o},Pn=(o,t)=>ot(o,at(t));const Tn=(o,t)=>o.map(n=>{const r=Array.isArray(n.subjects)&&n.subjects.indexOf(t)!==-1;return Pn(Sn({},n),{isDisplayed:r})});var An=Object.defineProperty,Yt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Jt=(o,t,n)=>t in o?An(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,qt=(o,t)=>{for(var n in t||(t={}))Qt.call(t,n)&&Jt(o,n,t[n]);if(Yt)for(var n of Yt(t))Rn.call(t,n)&&Jt(o,n,t[n]);return o};const _t=(0,b.default)(L.Box)`
  transform: translate(-4px, -12px);

  &:before {
    content: '';
    width: ${4/16}rem;
    height: ${12/16}rem;
    background: ${({theme:o})=>o.colors.primary200};
    display: block;
  }
`,en=b.default.svg`
  position: relative;
  flex-shrink: 0;
  transform: translate(-0.5px, -1px);

  * {
    fill: ${({theme:o,color:t})=>o.colors[t]};
  }
`,Tt=o=>e.createElement(_t,null,e.createElement(en,qt({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})));Tt.defaultProps={fill:"primary200"},Tt.propTypes={fill:s().string};const On=(0,e.memo)(Tt);function tn(o,t){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=Dn(o))||t&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(y){throw y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,p=!1,g;return{s:function(){n=n.call(o)},n:function(){var y=n.next();return l=y.done,y},e:function(y){p=!0,g=y},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(p)throw g}}}}function Dn(o,t){if(!!o){if(typeof o=="string")return m(o,t);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(o,t)}}function m(o,t){(t==null||t>o.length)&&(t=o.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=o[n];return r}var d=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=function(t,n,r){return n in t?d(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},v=function(t,n){for(var r in n||(n={}))T.call(n,r)&&R(t,r,n[r]);if(u){var i=tn(u(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;M.call(n,r)&&R(t,r,n[r])}}catch(p){i.e(p)}finally{i.f()}}return t},D=function(t,n){return c(t,f(n))},J=function(){return window&&window.strapi&&window.strapi.isEE?a(38292).Z:a(16602).Z}(),Ce=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],re),Be=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],Ke),dt=(0,b.default)(L.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),it=(0,b.default)(L.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],function(o){var t=o.isVisible,n=o.theme;return t?"4px solid ".concat(n.colors.primary200):"4px solid transparent"}),rt=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],function(o){var t=o.theme;return t.spaces[4]},function(o){var t=o.level;return 145-t*36},function(o){var t=o.isCollapsable,n=o.theme;return t&&`
      `.concat(gt,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(ht(n),`
      }
  `)},function(o){var t=o.isActive,n=o.theme;return t&&ht(n)}),ut=b.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],function(o){var t=o.theme;return t.spaces[2]},function(o){var t=o.theme;return t.spaces[2]},4/16,function(o){var t=o.theme;return t.colors.primary200}),eo=function o(t){var n=t.childrenForm,r=t.isFormDisabled,i=t.recursiveLevel,l=t.pathToDataFromActionRow,p=t.propertyActions,g=t.parentName,h=t.propertyName,y=(0,q.useIntl)(),P=y.formatMessage,F=(0,oe.$_)(),$=F.modifiedData,ee=F.onChangeParentCheckbox,w=F.onChangeSimpleCheckbox,N=(0,e.useState)(null),O=(0,U.Z)(N,2),B=O[0],Y=O[1],ce=function(De){Y(function(we){return we===De?null:De})},Oe=(0,e.useMemo)(function(){return B?n.find(function(Ee){var De=Ee.value;return De===B}):null},[B,n]);return e.createElement(dt,null,e.createElement(ut,null),n.map(function(Ee,De){var we=Ee.label,Le=Ee.value,yt=Ee.required,be=Ee.children,je=De+1<n.length,ge=Array.isArray(be),Pe=B===Le;return e.createElement(it,{key:Le,isVisible:je},e.createElement(Be,null,e.createElement(On,{color:"primary200"}),e.createElement(X.Flex,{style:{flex:1}},e.createElement(rt,{level:i,isActive:Pe,isCollapsable:ge},e.createElement(Et,D(v({alignItems:"center",isCollapsable:ge},ge&&{onClick:function(){return ce(Le)},"aria-expanded":Pe,onKeyDown:function(Ne){var ke=Ne.key;return(ke==="Enter"||ke===" ")&&ce(Le)},tabIndex:0,role:"button"}),{title:we}),e.createElement(I.Typography,{ellipsis:!0},z()(we)),yt&&e.createElement(Kt,null),e.createElement(gt,{$isActive:Pe}))),e.createElement(X.Flex,{style:{flex:1}},p.map(function(xe){var Ne=xe.actionId,ke=xe.label,ft=xe.isActionRelatedToCurrentProperty;if(!ft)return e.createElement(Nt,{key:Ne});var Ye=[].concat((0,Z.Z)(l.split("..")),[Ne,"properties",h],(0,Z.Z)(g.split("..")),[Le]),pt=de()($,Ye,!1);if(!be)return e.createElement(Ce,{key:ke,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:r||J,name:Ye.join(".."),"aria-label":P({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(g," ").concat(we," ").concat(ke)}),onValueChange:function(Bt){w({target:{name:Ye.join(".."),value:Bt}})},value:pt}));var At=ct(pt),Rt=At.hasAllActionsSelected,vt=At.hasSomeActionsSelected;return e.createElement(Ce,{key:ke,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{key:ke,disabled:r||J,name:Ye.join(".."),"aria-label":P({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(g," ").concat(we," ").concat(ke)}),onValueChange:function(Bt){ee({target:{name:Ye.join(".."),value:Bt}})},value:Rt,indeterminate:vt}))})))),Oe&&Pe&&e.createElement(L.Box,{paddingBottom:2},e.createElement(o,{isFormDisabled:r,parentName:"".concat(g,"..").concat(Le),pathToDataFromActionRow:l,propertyActions:p,propertyName:h,recursiveLevel:i+1,childrenForm:Oe.children})))}))};eo.propTypes={childrenForm:s().array.isRequired,isFormDisabled:s().bool.isRequired,parentName:s().string.isRequired,pathToDataFromActionRow:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,recursiveLevel:s().number.isRequired};const Zo=(0,e.memo)(eo),Ho=o=>o.reduce((n,r)=>(r.isActionRelatedToCurrentProperty&&n.push(r.actionId),n),[]),Ko=(o,t,n,r,i)=>{const p=Ho(o).reduce((g,h)=>{const y=[...n.split(".."),h,"properties",r,i],P=(0,S.get)(t,y,!1);return g[h]=P,g},{});return ct(p)};var to=function(){return window&&window.strapi&&window.strapi.isEE?a(71231).Z:a(3288).Z}(),no=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],re),Xo=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],Ke,function(o){var t=o.isCollapsable,n=o.theme;return t&&`
      `.concat(gt,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(ht(n),`
      }
  `)},function(o){var t=o.isActive,n=o.theme;return t&&ht(n)}),xn=function(t){var n=t.childrenForm,r=t.label,i=t.isFormDisabled,l=t.name,p=t.required,g=t.pathToData,h=t.propertyActions,y=t.propertyName,P=t.isOdd,F=(0,q.useIntl)(),$=F.formatMessage,ee=(0,e.useState)(null),w=(0,U.Z)(ee,2),N=w[0],O=w[1],B=(0,oe.$_)(),Y=B.modifiedData,ce=B.onChangeCollectionTypeLeftActionRowCheckbox,Oe=B.onChangeParentCheckbox,Ee=B.onChangeSimpleCheckbox,De=N===l,we=(0,e.useMemo)(function(){return Array.isArray(n)?n:[]},[n]),Le=we.length>0,yt=(0,e.useCallback)(function(){Le&&O(function(xe){return xe===l?null:l})},[Le,l]),be=function(Ne){var ke=Ne.target.value;ce(g,y,l,ke)},je=(0,e.useMemo)(function(){return Ko(h,Y,g,y,l)},[h,Y,g,y,l]),ge=je.hasAllActionsSelected,Pe=je.hasSomeActionsSelected;return e.createElement(e.Fragment,null,e.createElement(Xo,{alignItems:"center",isCollapsable:Le,isActive:De,background:P?"neutral100":"neutral0"},e.createElement(X.Flex,null,e.createElement(Ut,{onChange:be,onClick:yt,isCollapsable:Le,isFormDisabled:i,label:r,someChecked:Pe,value:ge,isActive:De},p&&e.createElement(Kt,null),e.createElement(gt,{$isActive:De})),e.createElement(X.Flex,null,h.map(function(xe){var Ne=xe.label,ke=xe.isActionRelatedToCurrentProperty,ft=xe.actionId;if(!ke)return e.createElement(Nt,{key:Ne});var Ye=[].concat((0,Z.Z)(g.split("..")),[ft,"properties",y,l]);if(!Le){var pt=de()(Y,Ye,!1);return e.createElement(no,{key:ft,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:i||to,name:Ye.join(".."),"aria-label":$({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ne)}),onValueChange:function(kn){Ee({target:{name:Ye.join(".."),value:kn}})},value:pt}))}var At=de()(Y,Ye,{}),Rt=ct(At),vt=Rt.hasAllActionsSelected,Un=Rt.hasSomeActionsSelected;return e.createElement(no,{key:Ne,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:i||to,name:Ye.join(".."),onValueChange:function(kn){Oe({target:{name:Ye.join(".."),value:kn}})},"aria-label":$({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ne)}),value:vt,indeterminate:Un}))})))),De&&e.createElement(Zo,{childrenForm:we,isFormDisabled:i,parentName:l,pathToDataFromActionRow:g,propertyName:y,propertyActions:h,recursiveLevel:0}))};xn.defaultProps={childrenForm:[],required:!1},xn.propTypes={childrenForm:s().array,label:s().string.isRequired,isFormDisabled:s().bool.isRequired,name:s().string.isRequired,pathToData:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,required:s().bool,isOdd:s().bool.isRequired};const Yo=(0,e.memo)(xn),Qo=b.default.div`
  display: inline-flex;
  flex-direction: column;
  min-width: 0;
`,oo=({availableActions:o,childrenForm:t,isFormDisabled:n,label:r,pathToData:i,propertyName:l})=>{const p=(0,e.useMemo)(()=>yn(o,l),[o,l]);return e.createElement(Qo,null,e.createElement(_n,{label:r,headers:p}),e.createElement(L.Box,null,t.map(({children:g,label:h,value:y,required:P},F)=>e.createElement(Yo,{childrenForm:g,key:y,label:h,isFormDisabled:n,name:y,required:P,propertyActions:p,pathToData:i,propertyName:l,isOdd:F%2===0}))))};oo.propTypes={childrenForm:s().array.isRequired,availableActions:s().array.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,pathToData:s().string.isRequired,propertyName:s().string.isRequired};const Jo=oo,qo=b.default.div`
  flex-direction: column;
  display: inline-flex;
  min-width: 100%;
  ${({theme:o,isActive:t})=>t&&`border: 1px solid ${o.colors.primary600};`}
`,ao=({allActions:o,contentTypeName:t,label:n,index:r,isActive:i,isFormDisabled:l,onClickToggleCollapse:p,pathToData:g,properties:h})=>{const y=(0,e.useCallback)(()=>{p(t)},[t,p]),P=(0,e.useMemo)(()=>Tn(o,t),[o,t]);return e.createElement(qo,{isActive:i},e.createElement(Qn,{availableActions:P,isActive:i,isGrey:r%2===0,isFormDisabled:l,label:n,onClickToggle:y,pathToData:g}),i&&h.map(({label:F,value:$,children:ee})=>e.createElement(Jo,{availableActions:P,childrenForm:ee,isFormDisabled:l,label:F,pathToData:g,propertyName:$,key:$})))};ao.propTypes={allActions:s().array.isRequired,contentTypeName:s().string.isRequired,index:s().number.isRequired,isActive:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggleCollapse:s().func.isRequired,pathToData:s().string.isRequired,properties:s().array.isRequired};const _o=ao,Mn=({actions:o,isFormDisabled:t,pathToData:n,subjects:r})=>{const[i,l]=(0,e.useState)(null),p=g=>{l(i===g?null:g)};return r.map(({uid:g,label:h,properties:y},P)=>e.createElement(_o,{allActions:o,key:g,contentTypeName:g,label:h,isActive:i===g,isFormDisabled:t,index:P,onClickToggleCollapse:p,pathToData:`${n}..${g}`,properties:y}))};Mn.defaultProps={actions:[],subjects:[]},Mn.propTypes={actions:s().array.isRequired,isFormDisabled:s().bool.isRequired,pathToData:s().string.isRequired,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))};const ea=(0,e.memo)(Mn),ta=o=>o.filter(({subjects:t})=>t&&t.length);var na=Object.defineProperty,ro=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,so=(o,t,n)=>t in o?na(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,io=(o,t)=>{for(var n in t||(t={}))oa.call(t,n)&&so(o,n,t[n]);if(ro)for(var n of ro(t))aa.call(t,n)&&so(o,n,t[n]);return o};const ra=o=>o.map(({actionId:t})=>t),sa=(o,t)=>o.reduce((n,r)=>(Object.keys(t).forEach(i=>{const l=(0,S.get)(t,[i,r],{}),p={[i]:Mt(l)};n[r]?n[r]=io(io({},n[r]),p):n[r]=p}),n),{}),ia=(o,t)=>{const n=ra(o),r=sa(n,t);return Object.keys(r).reduce((l,p)=>(l[p]=ct(r[p]),l),{})};var la=function(){return window&&window.strapi&&window.strapi.isEE?a(66713).Z:a(71218).Z}(),ca=(0,b.default)(He.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],re),Ln=function(t){var n=t.actions,r=t.isFormDisabled,i=t.kind,l=(0,q.useIntl)(),p=l.formatMessage,g=(0,oe.$_)(),h=g.modifiedData,y=g.onChangeCollectionTypeGlobalActionCheckbox,P=(0,e.useMemo)(function(){return ta(n)},[n]),F=(0,e.useMemo)(function(){return ia(P,h[i])},[h,P,i]);return e.createElement(L.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:Me}},e.createElement(He.Stack,{horizontal:!0,spacing:0},P.map(function($){var ee=$.label,w=$.actionId;return e.createElement(ca,{key:w,spacing:3},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},p({id:"Settings.roles.form.permissions.".concat(ee.toLowerCase()),defaultMessage:ee})),e.createElement(Se.BaseCheckbox,{disabled:r||la,onValueChange:function(O){y(i,w,O)},name:w,"aria-label":p({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:p({id:"Settings.roles.form.permissions.".concat(ee.toLowerCase()),defaultMessage:ee})}),value:de()(F,[w,"hasAllActionsSelected"],!1),indeterminate:de()(F,[w,"hasSomeActionsSelected"],!1)}))})))};Ln.defaultProps={actions:[]},Ln.propTypes={actions:s().arrayOf(s().shape({label:s().string.isRequired,actionId:s().string.isRequired,subjects:s().array.isRequired})),isFormDisabled:s().bool.isRequired,kind:s().string.isRequired};const da=(0,e.memo)(Ln),ua=(0,b.default)(L.Box)`
  overflow-x: auto;
`,lo=({isFormDisabled:o,kind:t,layout:{actions:n,subjects:r}})=>{const i=he()([...r],"label");return e.createElement(ua,{background:"neutral0"},e.createElement(da,{actions:n,kind:t,isFormDisabled:o}),e.createElement(ea,{actions:n,isFormDisabled:o,pathToData:t,subjects:i}))};lo.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().shape({actions:s().array,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))}).isRequired};const co=(0,e.memo)(lo);var pa=a(64564);const uo=({children:o,value:t})=>e.createElement(pa.$l.Provider,{value:t},o);uo.propTypes={children:s().node.isRequired,value:s().exact({availableConditions:s().array.isRequired,modifiedData:s().object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:s().func.isRequired,onChangeConditions:s().func.isRequired,onChangeSimpleCheckbox:s().func.isRequired,onChangeParentCheckbox:s().func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:s().func.isRequired}).isRequired};const ma=uo;var In=a(12001),po=a(78330),mo=a(52111),ga=Object.defineProperty,fa=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,go=Object.getOwnPropertySymbols,ya=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,fo=(o,t,n)=>t in o?ga(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Ca=(o,t)=>{for(var n in t||(t={}))ya.call(t,n)&&fo(o,n,t[n]);if(go)for(var n of go(t))va.call(t,n)&&fo(o,n,t[n]);return o},Ea=(o,t)=>fa(o,ha(t));const ba=(o,t,n)=>o.map(r=>{const i=[...n,r.action,"properties","enabled"],l=(0,S.get)(t,i,!1),p=(0,S.get)(t,[...n,r.action,"conditions"],{}),g=mt(p).some(h=>h);return Ea(Ca({},r),{isDisplayed:l,checkboxName:i.join(".."),hasSomeActionsSelected:l,value:l,hasConditions:g,label:r.displayName,actionId:r.action,pathToConditionsObject:[...n,r.action]})}),Sa=o=>{const t=Object.entries(o).reduce((r,i)=>{const[l,{conditions:p}]=i;return r[l]=p,r},{});return mt(t).some(r=>r)};var Fn=function(){return window&&window.strapi&&window.strapi.isEE?a(37582).Z:a(95204).Z}(),Pa=b.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],function(o){var t=o.theme;return t.colors.neutral150}),Ta=b.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],function(o){var t=o.hasConditions,n=o.disabled,r=o.theme;return t&&`
    &:before {
      content: '';
      position: absolute;
      top: `.concat(-4/16,`rem;
      left: `).concat(-8/16,`rem;
      width: `).concat(6/16,`rem;
      height: `).concat(6/16,`rem;
      border-radius: `).concat(20/16,`rem;
      background: `).concat(n?r.colors.neutral100:r.colors.primary600,`;
    }
  `)}),ho=function(t){var n=t.categoryName,r=t.isFormDisabled,i=t.subCategoryName,l=t.actions,p=t.pathToData,g=(0,e.useState)(!1),h=(0,U.Z)(g,2),y=h[0],P=h[1],F=(0,oe.$_)(),$=F.modifiedData,ee=F.onChangeParentCheckbox,w=F.onChangeSimpleCheckbox,N=(0,q.useIntl)(),O=N.formatMessage,B=de()($,p,{}),Y=(0,e.useMemo)(function(){return Object.keys(B).reduce(function(be,je){return be[je]=Mt(B[je]),be},{})},[B]),ce=ct(Y),Oe=ce.hasAllActionsSelected,Ee=ce.hasSomeActionsSelected,De=function(){P(function(je){return!je})},we=function(){P(!1)},Le=ba(l,$,p),yt=Sa(de()($,(0,Z.Z)(p),{}));return e.createElement(e.Fragment,null,e.createElement(L.Box,null,e.createElement(X.Flex,{justifyContent:"space-between",alignItems:"center"},e.createElement(L.Box,{paddingRight:4},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},i)),e.createElement(Pa,null),e.createElement(L.Box,{paddingLeft:4},e.createElement(mo.Checkbox,{name:p.join(".."),disabled:r||Fn,onValueChange:function(je){ee({target:{name:p.join(".."),value:je}})},indeterminate:Ee,value:Oe},O({id:"app.utils.select-all",defaultMessage:"Select all"})))),e.createElement(X.Flex,{paddingTop:6,paddingBottom:6},e.createElement(po.Grid,{gap:2,style:{flex:1}},Le.map(function(be){var je=be.checkboxName,ge=be.value,Pe=be.action,xe=be.displayName,Ne=be.hasConditions;return e.createElement(po.GridItem,{col:3,key:Pe},e.createElement(Ta,{disabled:r||Fn,hasConditions:Ne},e.createElement(mo.Checkbox,{name:je,disabled:r||Fn,onValueChange:function(ft){w({target:{name:je,value:ft}})},value:ge},xe)))})),e.createElement($e,{hasConditions:yt,onClick:De}))),y&&e.createElement(Ct,{headerBreadCrumbs:[n,i],actions:Le,isFormDisabled:r,onClosed:we,onToggle:De}))};ho.propTypes={actions:s().array.isRequired,categoryName:s().string.isRequired,isFormDisabled:s().bool.isRequired,subCategoryName:s().string.isRequired,pathToData:s().array.isRequired};const Aa=ho,Bn=({childrenForm:o,kind:t,name:n,isOpen:r,isFormDisabled:i,isWhite:l,onOpenCategory:p,pathToData:g})=>{const{formatMessage:h}=(0,q.useIntl)(),y=()=>{p(n)},P=(0,e.useMemo)(()=>n.split("::").pop(),[n]);return e.createElement(In.Accordion,{expanded:r,onToggle:y,id:`accordion-${n}`,variant:l?"primary":"secondary"},e.createElement(In.AccordionToggle,{title:z()(P),description:`${h({id:"Settings.permissions.category"},{category:P})} ${t==="plugins"?"plugin":t}`}),e.createElement(In.AccordionContent,null,e.createElement(L.Box,{padding:6},o.map(({actions:F,subCategoryName:$,subCategoryId:ee})=>e.createElement(Aa,{key:$,actions:F,categoryName:P,isFormDisabled:i,subCategoryName:$,pathToData:[...g,ee]})))))};Bn.defaultProps={},Bn.propTypes={childrenForm:s().array.isRequired,isOpen:s().bool.isRequired,isFormDisabled:s().bool.isRequired,isWhite:s().bool.isRequired,kind:s().string.isRequired,name:s().string.isRequired,onOpenCategory:s().func.isRequired,pathToData:s().array.isRequired};const Ra=Bn,yo=({isFormDisabled:o,kind:t,layout:n})=>{const[r,i]=(0,e.useState)(null),l=p=>{i(p===r?null:p)};return e.createElement(L.Box,{padding:6,background:"neutral0"},n.map(({category:p,categoryId:g,childrenForm:h},y)=>e.createElement(Ra,{key:p,childrenForm:h,kind:t,isFormDisabled:o,isOpen:r===p,isWhite:y%2===1,name:p,onOpenCategory:l,pathToData:[t,g]})))};yo.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().arrayOf(s().shape({category:s().string.isRequired,categoryId:s().string.isRequired,childrenForm:s().arrayOf(s().shape({actions:s().array.isRequired})).isRequired}).isRequired).isRequired};const vo=yo,Co=(o,t,n)=>o.find(r=>r.action===t&&r.subject===n);var Oa=Object.defineProperty,Da=Object.defineProperties,xa=Object.getOwnPropertyDescriptors,Eo=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,bo=(o,t,n)=>t in o?Oa(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,So=(o,t)=>{for(var n in t||(t={}))Ma.call(t,n)&&bo(o,n,t[n]);if(Eo)for(var n of Eo(t))La.call(t,n)&&bo(o,n,t[n]);return o},Po=(o,t)=>Da(o,xa(t));const To=(o,t=[])=>o.reduce((n,r)=>(n[r.id]=t.indexOf(r.id)!==-1,n),{}),Ao=({children:o},t,n="")=>o.reduce((r,i)=>{if(i.children)return Po(So({},r),{[i.value]:Ao(i,t,`${n}${i.value}.`)});const l=t.indexOf(`${n}${i.value}`)!==-1;return r[i.value]=l,r},{}),Ia=(o,t,n)=>o.reduce((r,i)=>{const l=t.properties.find(({value:p})=>p===i);if(l){const p=(0,S.get)(n,["properties",l.value],[]),g=Ao(l,p);r.properties[i]=g}return r},{properties:{}}),Fa=(o,t)=>t.reduce((n,r)=>{const i=o.find(({uid:l})=>l===r)||null;return i&&(n[r]=i),n},{}),Ro=({subjects:o},t,n,r=[])=>t.reduce((i,l)=>{const p=l.subjects,g=Fa(o,p);if((0,S.isEmpty)(g))return i;const h=Object.keys(g).reduce((y,P)=>{const{actionId:F,applyToProperties:$}=l,N=g[P].properties.map(({value:ce})=>ce).every(ce=>($||[]).indexOf(ce)===-1),O=Co(r,F,P),B=To(n,(0,S.get)(O,"conditions",[]));if((0,S.isEmpty)($)||N)return(0,S.set)(y,[P,F],{properties:{enabled:O!==void 0},conditions:B}),y;const Y=Ia($,g[P],O);return(0,S.set)(y,[P,F],Po(So({},Y),{conditions:B})),y},{});return(0,S.merge)(i,h)},{}),Ba=(o,t,n)=>o.reduce((r,i)=>{const l=Co(n,i.action,null);return r[i.action]={properties:{enabled:l!==void 0},conditions:To(t,(0,S.get)(l,"conditions",[]))},r},{}),wa=(o,t,n)=>o.reduce((r,i)=>(r[i.subCategoryId]=Ba(i.actions,t,n),r),{}),Oo=(o,t,n=[])=>o.reduce((r,{categoryId:i,childrenForm:l})=>{const p=wa(l,t,n);return r[i]=p,r},{}),Do=o=>o.split(" ").join("-"),xo=(o,t)=>(0,S.chain)(o).groupBy(t).map((n,r)=>({category:r,categoryId:Do(r),childrenForm:(0,S.chain)(n).groupBy("subCategory").map((i,l)=>({subCategoryName:l,subCategoryId:Do(l),actions:i})).value()})).value(),ja=(o,t)=>{const{conditions:n,sections:{collectionTypes:r,singleTypes:i,plugins:l,settings:p}}=o,g={collectionTypes:r,singleTypes:i,plugins:xo(l,"plugin"),settings:xo(p,"category")},h={collectionTypes:Ro(r,r.actions||[],n,t),singleTypes:Ro(i,i.actions||[],n,t),plugins:Oo(g.plugins,n,t),settings:Oo(g.settings,n,t)};return{initialData:h,modifiedData:h,layouts:g}};var Na=Object.defineProperty,Wa=Object.defineProperties,$a=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,Ua=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,Lo=(o,t,n)=>t in o?Na(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,wn=(o,t)=>{for(var n in t||(t={}))Ua.call(t,n)&&Lo(o,n,t[n]);if(Mo)for(var n of Mo(t))ka.call(t,n)&&Lo(o,n,t[n]);return o},jn=(o,t)=>Wa(o,$a(t));const Io=o=>Object.keys(o).reduce((t,n)=>{const r=o[n];if((0,S.isObject)(r)&&!(0,S.has)(r,"conditions"))return jn(wn({},t),{[n]:Io(r)});if((0,S.isObject)(r)&&(0,S.has)(r,"conditions")&&!mt((0,S.omit)(r,"conditions")).some(l=>l)){const l=Object.keys(r.conditions).reduce((p,g)=>(p[g]=!1,p),{});return jn(wn({},t),{[n]:jn(wn({},r),{conditions:l})})}return t[n]=r,t},{}),Nn=Io;var Va=Object.defineProperty,Ga=Object.defineProperties,za=Object.getOwnPropertyDescriptors,Fo=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Bo=(o,t,n)=>t in o?Va(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Ka=(o,t)=>{for(var n in t||(t={}))Za.call(t,n)&&Bo(o,n,t[n]);if(Fo)for(var n of Fo(t))Ha.call(t,n)&&Bo(o,n,t[n]);return o},Xa=(o,t)=>Ga(o,za(t));const wo=(o,t)=>Object.keys(o).reduce((n,r)=>{const i=o[r];return r==="conditions"?(n[r]=i,n):(0,S.isObject)(i)?Xa(Ka({},n),{[r]:wo(i,t)}):(n[r]=t,n)},{}),nn=wo;var Ya=Object.defineProperty,Qa=Object.defineProperties,Ja=Object.getOwnPropertyDescriptors,jo=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,No=(o,t,n)=>t in o?Ya(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,er=(o,t)=>{for(var n in t||(t={}))qa.call(t,n)&&No(o,n,t[n]);if(jo)for(var n of jo(t))_a.call(t,n)&&No(o,n,t[n]);return o},tr=(o,t)=>Qa(o,Ja(t));const nr={initialData:{},modifiedData:{},layouts:{}},or=(o,t)=>(0,ae.default)(o,n=>{switch(t.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":{const{collectionTypeKind:r,actionId:i,value:l}=t,p=["modifiedData",r];Object.keys((0,S.get)(o,p)).forEach(g=>{const h=(0,S.get)(o,[...p,g,i],void 0);if(h){let y=nn(h,l);if(!l&&y.conditions){const P=nn(y.conditions,!1);y=tr(er({},y),{conditions:P})}(0,S.set)(n,[...p,g,i],y)}});break}case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":{const{pathToCollectionType:r,propertyName:i,rowName:l,value:p}=t;let g=(0,S.cloneDeep)(o.modifiedData);const h=r.split(".."),y=(0,S.get)(g,h,{});Object.keys(y).forEach(P=>{if((0,S.has)(y[P],`properties.${i}`)){const F=(0,S.get)(y,[P,"properties",i,l]),$=[...h,P,"properties",i,l];if(!(0,S.isObject)(F))(0,S.set)(g,$,p);else{const ee=nn(F,p);(0,S.set)(g,$,ee)}}}),p||(g=Nn(g)),(0,S.set)(n,"modifiedData",g);break}case"ON_CHANGE_CONDITIONS":{Object.entries(t.conditions).forEach(r=>{const[i,l]=r;(0,S.set)(n,["modifiedData",...i.split(".."),"conditions"],l)});break}case"ON_CHANGE_SIMPLE_CHECKBOX":{let r=(0,S.cloneDeep)(o.modifiedData);(0,S.set)(r,[...t.keys.split("..")],t.value),t.value||(r=Nn(r)),(0,S.set)(n,"modifiedData",r);break}case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":{const{keys:r,value:i}=t,l=[...r.split("..")];let p=(0,S.cloneDeep)(o.modifiedData);const g=(0,S.get)(p,l,{}),h=nn(g,i);(0,S.set)(p,l,h),i||(p=Nn(p)),(0,S.set)(n,["modifiedData"],p);break}case"RESET_FORM":{n.modifiedData=o.initialData;break}case"SET_FORM_AFTER_SUBMIT":{n.initialData=o.modifiedData;break}default:return n}}),Wn=o=>Object.entries(o).filter(([,t])=>t).map(([t])=>t),ar=o=>{const[t,{conditions:n}]=o;return{action:t,subject:null,conditions:Wn(n),properties:{}}},rr=o=>Object.values(o).reduce((t,n)=>{const r=Object.entries(n).reduce((i,l)=>{const[,{properties:{enabled:p}}]=l;if(!p)return i;const g=ar(l);return i.push(g),i},[]);return[...t,...r]},[]),Wo=o=>Object.values(o).reduce((t,n)=>{const r=rr(n);return[...t,...r]},[]),$o=(o,t="")=>Object.entries(o).reduce((n,r)=>{const[i,l]=r;return(0,S.isObject)(l)?[...n,...$o(l,`${t}${i}.`)]:(l&&!(0,S.isObject)(l)&&n.push(`${t}${i}`),n)},[]),sr=(o,t,{conditions:n,properties:r})=>Object.entries(r).reduce((i,l)=>{const[p,g]=l;return i.properties[p]=$o(g),i},{action:o,subject:t,conditions:Wn(n),properties:{}}),ir=(o,t,{conditions:n})=>({action:o,subject:t,properties:{},conditions:Wn(n)}),lr=(o,t)=>Object.entries(t).reduce((r,i)=>{const[l,p]=i;if(!mt(p).some(y=>y))return r;if(!(0,S.has)(p,"properties.enabled")){const y=sr(l,o,p);return[...r,y]}if(!p.properties.enabled)return r;const h=ir(l,o,p);return r.push(h),r},[]),Uo=o=>Object.entries(o).reduce((n,r)=>{const[i,l]=r,p=lr(i,l);return[...n,...p]},[]),cr=o=>{const t=Wo(o.plugins),n=Wo(o.settings),r=Uo(o.collectionTypes),i=Uo(o.singleTypes);return[...t,...n,...r,...i]},dr=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];var ur=Object.defineProperty,ko=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,Vo=(o,t,n)=>t in o?ur(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Go=(o,t)=>{for(var n in t||(t={}))pr.call(t,n)&&Vo(o,n,t[n]);if(ko)for(var n of ko(t))mr.call(t,n)&&Vo(o,n,t[n]);return o};const $n=(0,e.forwardRef)(({layout:o,isFormDisabled:t,permissions:n},r)=>{const[{initialData:i,layouts:l,modifiedData:p},g]=(0,e.useReducer)(or,nr,()=>ja(o,n)),{formatMessage:h}=(0,q.useIntl)();(0,e.useImperativeHandle)(r,()=>({getPermissions:()=>{const w=(0,H.difference)(i.collectionTypes,p.collectionTypes),N=(0,H.difference)(i.singleTypes,p.singleTypes),O=Go(Go({},w),N);let B;return We()(O)?B=!1:B=Object.values(O).some(Y=>Object.values(Y).some(ce=>Te()(ce,"conditions"))),{permissionsToSend:cr(p),didUpdateConditions:B}},resetForm:()=>{g({type:"RESET_FORM"})},setFormAfterSubmit:()=>{g({type:"SET_FORM_AFTER_SUBMIT"})}}));const y=(w,N,O,B)=>{g({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:w,propertyName:N,rowName:O,value:B})},P=(w,N,O)=>{g({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:w,actionId:N,value:O})},F=w=>{g({type:"ON_CHANGE_CONDITIONS",conditions:w})},$=(0,e.useCallback)(({target:{name:w,value:N}})=>{g({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:w,value:N})},[]),ee=(0,e.useCallback)(({target:{name:w,value:N}})=>{g({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:w,value:N})},[]);return e.createElement(ma,{value:{availableConditions:o.conditions,modifiedData:p,onChangeConditions:F,onChangeSimpleCheckbox:$,onChangeParentCheckbox:ee,onChangeCollectionTypeLeftActionRowCheckbox:y,onChangeCollectionTypeGlobalActionCheckbox:P}},e.createElement(W.TabGroup,{id:"tabs",label:h({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},e.createElement(W.Tabs,null,dr.map(w=>e.createElement(W.Tab,{key:w.id},h({id:w.labelId,defaultMessage:w.defaultMessage})))),e.createElement(W.TabPanels,{style:{position:"relative"}},e.createElement(W.TabPanel,null,e.createElement(co,{layout:l.collectionTypes,kind:"collectionTypes",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(co,{layout:l.singleTypes,kind:"singleTypes",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(vo,{layout:l.plugins,kind:"plugins",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(vo,{layout:l.settings,kind:"settings",isFormDisabled:t})))))});$n.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},$n.propTypes={layout:s().object,isFormDisabled:s().bool.isRequired,permissions:s().array};const gr=(0,e.memo)($n)},95204:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!0},6214:(ne,x,a)=>{a.d(x,{Z:()=>e});const e=()=>"todo empty role"},2892:(ne,x,a)=>{a.d(x,{Z:()=>ze});var e=a(32735),E=a(60216),s=a.n(E),H=a(9808),W=a.n(H),Ie=a(19192),Te=a.n(Ie),fe=a(53214),We=a.n(fe),q=a(95602),L=a.n(q),b=a(20763),G=a.n(b),he=a(83985),U=a.n(he),_=a(5636),et=a.n(_),Qe=Object.defineProperty,Ve=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,C=(oe,ue,pe)=>ue in oe?Qe(oe,ue,{enumerable:!0,configurable:!0,writable:!0,value:pe}):oe[ue]=pe,de=(oe,ue)=>{for(var pe in ue||(ue={}))Se.call(ue,pe)&&C(oe,pe,ue[pe]);if(Ve)for(var pe of Ve(ue))X.call(ue,pe)&&C(oe,pe,ue[pe]);return oe};const Ge=({id:oe,name:ue,description:pe,usersCount:Ze,icons:Je})=>{const{formatMessage:tt}=(0,_.useIntl)(),$e=tt({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:Ze});return e.createElement(fe.Tr,de({key:oe},(0,he.onRowClick)({fn:Je[1].onClick})),e.createElement(fe.Td,{maxWidth:(0,he.pxToRem)(130)},e.createElement(q.Typography,{ellipsis:!0,textColor:"neutral800"},ue)),e.createElement(fe.Td,{maxWidth:(0,he.pxToRem)(250)},e.createElement(q.Typography,{ellipsis:!0,textColor:"neutral800"},pe)),e.createElement(fe.Td,null,e.createElement(q.Typography,{textColor:"neutral800"},$e)),e.createElement(fe.Td,null,e.createElement(Ie.Flex,de({justifyContent:"flex-end"},he.stopPropagation),Je.map((Ae,He)=>Ae?e.createElement(H.Box,{key:Ae.label,paddingLeft:He===0?0:1},e.createElement(b.IconButton,{onClick:Ae.onClick,label:Ae.label,noBorder:!0,icon:Ae.icon})):null))))};Ge.propTypes={id:s().number.isRequired,name:s().string.isRequired,description:s().string.isRequired,usersCount:s().number.isRequired,icons:s().array.isRequired};const ze=Ge},10333:(ne,x,a)=>{a.d(x,{Z:()=>_e});var e=a(32735),E=a(83985),s=a(79613),H=a(58469),W=a(59290),Ie=a.n(W),Te=a(76470),fe=a.n(Te),We=a(95717),q=a.n(We),L=a(68192),b=a.n(L),G=a(44526),he=a(11856),U=a(53214),_=a(95602),et=a(16540),Qe=a(28004),Ve=a(5636),Se=a(5141),X=a(2892),C=a(6214),de=a(60216),Ge=a.n(de),ze=a(19615),oe=a(64410),ue=a(54742),pe=a(20763),Ze=a(61541),Je=a(9808),tt=a(19192),$e=a(90662),Ae=a(82372),He=a.n(Ae),lt=a(94009),se=a.n(lt),I=a(378),ae=a(19337);const A=ze.default.div`
  position: absolute;
  z-index: 3;
  inset: 0;
  background: ${({theme:j})=>(0,E.setHexOpacity)(j.colors.neutral800,.2)};
  padding: 0 ${({theme:j})=>j.spaces[8]};
`,te=(0,ze.default)(tt.Flex)`
  position: relative;
  max-width: ${830/16}rem;
  height: ${415/16}rem;
  margin: 0 auto;
  overflow: hidden;
  margin-top: 10%;
  padding-left: ${64/16}rem;

  img:first-of-type {
    position: absolute;
    right: 0;
    top: 0;
    max-width: ${360/16}rem;
  }

  img:not(:first-of-type) {
    width: ${130/16}rem;
    margin-left: 12%;
    margin-right: ${20/16}rem;
    z-index: 0;
  }
`,ie=(0,ze.default)($e.Stack)`
  align-items: flex-start;
  max-width: ${400/16}rem;
  z-index: 0;
`,z=(0,ze.default)(Je.Box)`
  position: absolute;
  right: ${({theme:j})=>j.spaces[4]};
  top: ${({theme:j})=>j.spaces[4]};
`,me=({onClose:j,isOpen:le})=>{(0,E.useLockScroll)(le);const{formatMessage:V}=(0,Ve.useIntl)();return le?e.createElement(oe.Portal,null,e.createElement(A,{onClick:j},e.createElement(ue.FocusTrap,{onEscape:j},e.createElement(te,{onClick:K=>K.stopPropagation(),"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},e.createElement("img",{src:I,alt:"air-balloon"}),e.createElement(z,null,e.createElement(pe.IconButton,{onClick:j,"aria-label":"Close",icon:e.createElement(se(),null)})),e.createElement(ie,{spacing:6},e.createElement(_.Typography,{fontWeight:"bold",textColor:"primary600"},V({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),e.createElement($e.Stack,{spacing:2},e.createElement(_.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},V({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),e.createElement(_.Typography,null,V({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),e.createElement(Ze.LinkButton,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(He(),null)},V({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),e.createElement("img",{src:ae,alt:"upgrade-arrow"}))))):null};me.propTypes={onClose:Ge().func.isRequired,isOpen:Ge().bool.isRequired};const Z=me;var k=a(28492);const re=()=>{const{roles:j,isLoading:le}=(0,k.bF)(),V=(0,E.useQuery)(),K=decodeURIComponent(V.get("_q")||""),Fe=(0,H.ZP)(j,K,{keys:["name","description"]});return{isLoading:le,sortedRoles:Fe}},Me=()=>{const{formatMessage:j}=(0,Ve.useIntl)(),[le,V]=(0,e.useState)(!1),{trackUsage:K}=(0,E.useTracking)(),{push:Fe}=(0,Se.useHistory)(),Ue=(0,e.useCallback)(Re=>{Fe(`/settings/roles/${Re}`)},[Fe]),Xe=(0,e.useCallback)(()=>{V(Re=>!Re)},[]),Q=(0,e.useCallback)(()=>{K("didShowRBACUpgradeModal"),V(!0)},[K]),ye=(0,e.useCallback)(Re=>[{onClick:Xe,label:j({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:e.createElement(b(),null)},{onClick:()=>Ue(Re.id),label:j({id:"app.utils.edit",defaultMessage:"Edit"}),icon:e.createElement(q(),null)},{onClick:Xe,label:j({id:"global.delete",defaultMessage:"Delete"}),icon:e.createElement(fe(),null)}],[j,Xe,Ue]);return{isModalOpen:le,handleToggleModalForCreatingRole:Q,handleToggle:Xe,getIcons:ye}},qe=()=>{const{formatMessage:j}=(0,Ve.useIntl)();(0,E.useFocusWhenNavigate)();const{sortedRoles:le,isLoading:V}=re(),{isModalOpen:K,handleToggle:Fe,handleToggleModalForCreatingRole:Ue,getIcons:Xe}=Me(),Q=le.length+1,ye=5;return e.createElement(et.Main,null,e.createElement(E.SettingsPageTitle,{name:"Roles"}),e.createElement(he.HeaderLayout,{primaryAction:e.createElement(G.Button,{onClick:Ue,startIcon:e.createElement(Ie(),null),size:"L"},j({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:j({id:"global.roles",defaultMessage:"roles"}),subtitle:j({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),e.createElement(he.ContentLayout,null,e.createElement(U.Table,{colCount:ye,rowCount:Q,footer:e.createElement(U.TFooter,{onClick:Ue,icon:e.createElement(Ie(),null)},j({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},e.createElement(U.Thead,null,e.createElement(U.Tr,null,e.createElement(U.Th,null,e.createElement(_.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.name",defaultMessage:"Name"}))),e.createElement(U.Th,null,e.createElement(_.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.description",defaultMessage:"Description"}))),e.createElement(U.Th,null,e.createElement(_.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.users",defaultMessage:"Users"}))),e.createElement(U.Th,null,e.createElement(Qe.VisuallyHidden,null,j({id:"global.actions",defaultMessage:"Actions"}))))),e.createElement(U.Tbody,null,le==null?void 0:le.map(Re=>e.createElement(X.Z,{key:Re.id,id:Re.id,name:Re.name,description:Re.description,usersCount:Re.usersCount,icons:Xe(Re)})))),!Q&&!V&&e.createElement(C.Z,null)),e.createElement(Z,{isOpen:K,onClose:Fe}))},_e=()=>e.createElement(E.CheckPagePermissions,{permissions:s.Z.settings.roles.main},e.createElement(qe,null))},23027:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=[]},97971:(ne,x,a)=>{a.d(x,{Z:()=>lt});var e=a(32735),E=a(53806),s=a.n(E),H=a(83985),W=a(9808),Ie=a(44526),Te=a(11856),fe=a(78330),We=a(16540),q=a(19192),L=a(90662),b=a(95602),G=a(37178),he=a(90353),U=a(98599),_=a.n(U),et=a(83281),Qe=a(33795),Ve=a.n(Qe),Se=a(86834),X=a.n(Se),C=a(5636),de=a(5141),Ge=a(19615),ze=a(13806),oe=a(28492),ue=a(79613),pe=a(5173);const Je=pe.Ry().shape({name:pe.Z_().required(H.translatedErrors.required),description:pe.Z_().required(H.translatedErrors.required)});var tt=a(98399),$e=(se,I,ae)=>new Promise((A,te)=>{var ie=Z=>{try{me(ae.next(Z))}catch(k){te(k)}},z=Z=>{try{me(ae.throw(Z))}catch(k){te(k)}},me=Z=>Z.done?A(Z.value):Promise.resolve(Z.value).then(ie,z);me((ae=ae.apply(se,I)).next())});const Ae=Ge.default.div`
  border: 1px solid ${({theme:se})=>se.colors.primary200};
  background: ${({theme:se})=>se.colors.primary100};
  padding: ${({theme:se})=>`${se.spaces[2]} ${se.spaces[4]}`};
  color: ${({theme:se})=>se.colors.primary600};
  border-radius: ${({theme:se})=>se.borderRadius};
  font-size: ${12/16}rem;
  font-width: bold;
`,He=()=>{const se=(0,H.useNotification)(),{lockApp:I,unlockApp:ae}=(0,H.useOverlayBlocker)(),{formatMessage:A}=(0,C.useIntl)(),[te,ie]=(0,e.useState)(!1),{replace:z}=(0,de.useHistory)(),me=(0,e.useRef)(),{trackUsage:Z}=(0,H.useTracking)(),k=(0,de.useRouteMatch)("/settings/roles/duplicate/:id"),re=Ve()(k,"params.id",null),{isLoading:Me,data:Ke}=(0,oe.U_)(),{permissions:qe,isLoading:st}=(0,oe.Dq)(re),_e=le=>{I(),ie(!0),Z(re?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,H.request)("/admin/roles",{method:"POST",body:le})).then(V=>$e(void 0,null,function*(){const{permissionsToSend:K}=me.current.getPermissions();return Z(re?"didDuplicateRole":"didCreateNewRole"),V.data.id&&!X()(K)&&(yield(0,H.request)(`/admin/roles/${V.data.id}/permissions`,{method:"PUT",body:{permissions:K}})),V})).then(V=>{ie(!1),se({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),z(`/settings/roles/${V.data.id}`)}).catch(V=>{tt.error(V),ie(!1),se({type:"warning",message:{id:"notification.error"}})}).finally(()=>{ae()})},j=`${A({id:"Settings.roles.form.created",defaultMessage:"Created"})} ${s()().format("LL")}`;return e.createElement(We.Main,null,e.createElement(H.SettingsPageTitle,{name:"Roles"}),e.createElement(et.Formik,{initialValues:{name:"",description:j},onSubmit:_e,validationSchema:Je,validateOnChange:!1},({handleSubmit:le,values:V,errors:K,handleReset:Fe,handleChange:Ue})=>e.createElement(H.Form,{noValidate:!0},e.createElement(e.Fragment,null,e.createElement(Te.HeaderLayout,{primaryAction:e.createElement(L.Stack,{horizontal:!0,spacing:2},e.createElement(Ie.Button,{variant:"secondary",onClick:()=>{Fe(),me.current.resetForm()},size:"L"},A({id:"app.components.Button.reset",defaultMessage:"Reset"})),e.createElement(Ie.Button,{onClick:le,loading:te,size:"L"},A({id:"global.save",defaultMessage:"Save"}))),title:A({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:A({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:e.createElement(H.Link,{startIcon:e.createElement(_(),null),to:"/settings/roles"},A({id:"global.back",defaultMessage:"Back"}))}),e.createElement(Te.ContentLayout,null,e.createElement(L.Stack,{spacing:6},e.createElement(W.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(L.Stack,{spacing:4},e.createElement(q.Flex,{justifyContent:"space-between"},e.createElement(W.Box,null,e.createElement(W.Box,null,e.createElement(b.Typography,{fontWeight:"bold"},A({id:"global.details",defaultMessage:"Details"}))),e.createElement(W.Box,null,e.createElement(b.Typography,{variant:"pi",textColor:"neutral600"},A({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),e.createElement(Ae,null,A({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),e.createElement(fe.Grid,{gap:4},e.createElement(fe.GridItem,{col:6},e.createElement(G.TextInput,{name:"name",error:K.name&&A({id:K.name}),label:A({id:"global.name",defaultMessage:"Name"}),onChange:Ue,value:V.name})),e.createElement(fe.GridItem,{col:6},e.createElement(he.Textarea,{label:A({id:"global.description",defaultMessage:"Description"}),name:"description",error:K.description&&A({id:K.description}),onChange:Ue},V.description))))),!Me&&!st?e.createElement(W.Box,{shadow:"filterShadow",hasRadius:!0},e.createElement(ze.Z,{isFormDisabled:!1,ref:me,permissions:qe,layout:Ke})):e.createElement(W.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(H.LoadingIndicatorPage,null))))))))},lt=()=>e.createElement(H.CheckPagePermissions,{permissions:ue.Z.settings.roles.create},e.createElement(He,null))},10265:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},47902:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},71231:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},38292:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},66713:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},37582:(ne,x,a)=>{a.d(x,{Z:()=>E});const E=!1},49776:(ne,x,a)=>{a.d(x,{Z:()=>se});var e=a(32735),E=a(83985),s=a(79613),H=a(59290),W=a.n(H),Ie=a(76470),Te=a.n(Ie),fe=a(68192),We=a.n(fe),q=a(95717),L=a.n(q),b=a(44526),G=a(11856),he=a(28004),U=a(16540),_=a(53214),et=a(95602),Qe=a(92891),Ve=a(58469),Se=a(5636),X=a(5141),C=a(81999),de=a(28492),Ge=a(6214),ze=a(2892),oe=a(49415);const ue={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1},Ze=(I,ae)=>(0,oe.default)(I,A=>{switch(ae.type){case"ON_REMOVE_ROLES":{A.showModalConfirmButtonLoading=!0;break}case"ON_REMOVE_ROLES_SUCCEEDED":{A.shouldRefetchData=!0,A.roleToDelete=null;break}case"RESET_DATA_TO_DELETE":{A.shouldRefetchData=!1,A.roleToDelete=null,A.showModalConfirmButtonLoading=!1;break}case"SET_ROLE_TO_DELETE":{A.roleToDelete=ae.id;break}default:return A}});var Je=(I,ae,A)=>new Promise((te,ie)=>{var z=k=>{try{Z(A.next(k))}catch(re){ie(re)}},me=k=>{try{Z(A.throw(k))}catch(re){ie(re)}},Z=k=>k.done?te(k.value):Promise.resolve(k.value).then(z,me);Z((A=A.apply(I,ae)).next())});const tt=()=>{(0,E.useFocusWhenNavigate)();const{isLoading:I,allowedActions:{canCreate:ae,canDelete:A,canRead:te,canUpdate:ie}}=(0,E.useRBAC)(s.Z.settings.roles),{getData:z,roles:me,isLoading:Z}=(0,de.bF)(!1),[{query:k}]=(0,E.useQueryParams)(),re=(k==null?void 0:k._q)||"",Me=(0,Ve.ZP)(me,re,{keys:["name","description"]});return(0,e.useEffect)(()=>{!I&&te&&z()},[I,te,z]),{isLoadingForPermissions:I,canCreate:ae,canDelete:A,canRead:te,canUpdate:ie,isLoading:Z,getData:z,sortedRoles:Me,roles:me}},$e=({getData:I,canCreate:ae,canDelete:A,canUpdate:te})=>{const{formatMessage:ie}=(0,Se.useIntl)(),z=(0,E.useNotification)(),[me,Z]=(0,e.useState)(!1),{push:k}=(0,X.useHistory)(),[{selectedRoles:re,showModalConfirmButtonLoading:Me,roleToDelete:Ke},qe]=(0,e.useReducer)(Ze,ue),st=()=>Je(void 0,null,function*(){try{qe({type:"ON_REMOVE_ROLES"}),yield C.be.post("/admin/roles/batch-delete",{ids:[Ke]}),yield I(),qe({type:"RESET_DATA_TO_DELETE"})}catch(Q){const ye=(0,Qe.get)(Q,["response","payload","data","ids"],null);if(ye&&Array.isArray(ye)){const Re=ye.join(`
`);z({type:"warning",message:Re})}else z({type:"warning",message:{id:"notification.error"}})}V()}),_e=(0,e.useCallback)(Q=>{k(`/settings/roles/duplicate/${Q}`)},[k]),j=()=>k("/settings/roles/new"),le=(0,e.useCallback)(Q=>{qe({type:"SET_ROLE_TO_DELETE",id:Q}),V()},[]),V=()=>Z(Q=>!Q),K=(0,e.useCallback)(Q=>{k(`/settings/roles/${Q}`)},[k]),Fe=(0,e.useCallback)((Q,ye)=>{Q.preventDefault(),Q.stopPropagation(),ye.usersCount?z({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):le(ye.id)},[z,le]),Ue=(0,e.useCallback)((Q,ye)=>{Q.preventDefault(),Q.stopPropagation(),_e(ye.id)},[_e]),Xe=(0,e.useCallback)(Q=>[...ae?[{onClick:ye=>Ue(ye,Q),label:ie({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:e.createElement(We(),null)}]:[],...te?[{onClick:()=>K(Q.id),label:ie({id:"app.utils.edit",defaultMessage:"Edit"}),icon:e.createElement(L(),null)}]:[],...A?[{onClick:ye=>Fe(ye,Q),label:ie({id:"global.delete",defaultMessage:"Delete"}),icon:e.createElement(Te(),null)}]:[]],[ie,Fe,Ue,K,ae,te,A]);return{handleNewRoleClick:j,getIcons:Xe,selectedRoles:re,isWarningDeleteAllOpened:me,showModalConfirmButtonLoading:Me,handleToggleModal:V,handleDeleteData:st}},He=()=>{const{formatMessage:I}=(0,Se.useIntl)(),{isLoadingForPermissions:ae,canCreate:A,canRead:te,canDelete:ie,canUpdate:z,isLoading:me,getData:Z,sortedRoles:k}=tt(),{handleNewRoleClick:re,getIcons:Me,isWarningDeleteAllOpened:Ke,showModalConfirmButtonLoading:qe,handleToggleModal:st,handleDeleteData:_e}=$e({getData:Z,canCreate:A,canDelete:ie,canUpdate:z}),j=k.length+1,le=6;if(ae)return e.createElement(U.Main,null,e.createElement(E.LoadingIndicatorPage,null));const V=I({id:"global.roles",defaultMessage:"roles"});return e.createElement(U.Main,null,e.createElement(E.SettingsPageTitle,{name:"Roles"}),e.createElement(G.HeaderLayout,{primaryAction:A?e.createElement(b.Button,{onClick:re,startIcon:e.createElement(W(),null),size:"L"},I({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:V,subtitle:I({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),te&&e.createElement(G.ActionLayout,{startActions:e.createElement(E.SearchURLQuery,{label:I({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:V})})}),te&&e.createElement(G.ContentLayout,null,e.createElement(_.Table,{colCount:le,rowCount:j,footer:A?e.createElement(_.TFooter,{onClick:re,icon:e.createElement(W(),null)},I({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},e.createElement(_.Thead,null,e.createElement(_.Tr,null,e.createElement(_.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.name",defaultMessage:"Name"}))),e.createElement(_.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.description",defaultMessage:"Description"}))),e.createElement(_.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.users",defaultMessage:"Users"}))),e.createElement(_.Th,null,e.createElement(he.VisuallyHidden,null,I({id:"global.actions",defaultMessage:"Actions"}))))),e.createElement(_.Tbody,null,k==null?void 0:k.map(K=>e.createElement(ze.Z,{key:K.id,id:K.id,name:K.name,description:K.description,usersCount:K.usersCount,icons:Me(K)})))),!j&&!me&&e.createElement(Ge.Z,null)),e.createElement(E.ConfirmDialog,{isOpen:Ke,onConfirm:_e,isConfirmButtonLoading:qe,onToggleDialog:st}))},se=()=>e.createElement(E.CheckPagePermissions,{permissions:s.Z.settings.roles.main},e.createElement(He,null))},78251:(ne,x,a)=>{a.d(x,{Z:()=>H});var e=(W,Ie,Te)=>new Promise((fe,We)=>{var q=G=>{try{b(Te.next(G))}catch(he){We(he)}},L=G=>{try{b(Te.throw(G))}catch(he){We(he)}},b=G=>G.done?fe(G.value):Promise.resolve(G.value).then(q,L);b((Te=Te.apply(W,Ie)).next())});const H=[...strapi.features.isEnabled(strapi.features.SSO)?[{Component:()=>e(void 0,null,function*(){return yield a.e(302).then(a.bind(a,80482))}),to:"/settings/single-sign-on",exact:!0}]:[]]},378:(ne,x,a)=>{ne.exports=a.p+"c3de6118ef47086ad05c.png"},19337:(ne,x,a)=>{ne.exports=a.p+"bd81ba6c07827282255d.png"}}]);
